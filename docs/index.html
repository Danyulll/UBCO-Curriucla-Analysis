<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>UBCO-Curriucla-Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="index_files/libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="index_files/libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="index_files/libs/vis-9.1.0/vis-network.min.js"></script>
<script src="index_files/libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<link href="index_files/libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-network-analysis-in-r" id="toc-introduction-to-network-analysis-in-r" class="nav-link active" data-scroll-target="#introduction-to-network-analysis-in-r">Introduction to Network Analysis in R</a>
  <ul>
  <li><a href="#network" id="toc-network" class="nav-link" data-scroll-target="#network">network</a></li>
  <li><a href="#igraph" id="toc-igraph" class="nav-link" data-scroll-target="#igraph">igraph</a></li>
  <li><a href="#tidygraph-and-ggraph" id="toc-tidygraph-and-ggraph" class="nav-link" data-scroll-target="#tidygraph-and-ggraph">tidygraph and ggraph</a></li>
  <li><a href="#interactive-visualizations" id="toc-interactive-visualizations" class="nav-link" data-scroll-target="#interactive-visualizations">Interactive visualizations</a></li>
  </ul></li>
  <li><a href="#curricular-analytics" id="toc-curricular-analytics" class="nav-link" data-scroll-target="#curricular-analytics">Curricular Analytics</a>
  <ul>
  <li><a href="#delay-factor" id="toc-delay-factor" class="nav-link" data-scroll-target="#delay-factor">Delay Factor</a></li>
  <li><a href="#blocking-factor" id="toc-blocking-factor" class="nav-link" data-scroll-target="#blocking-factor">Blocking Factor</a></li>
  <li><a href="#centrality-factor" id="toc-centrality-factor" class="nav-link" data-scroll-target="#centrality-factor">Centrality Factor</a></li>
  <li><a href="#structural-complexity-and-course-cruciality" id="toc-structural-complexity-and-course-cruciality" class="nav-link" data-scroll-target="#structural-complexity-and-course-cruciality">Structural Complexity and Course Cruciality</a></li>
  </ul></li>
  <li><a href="#bayesian-networks" id="toc-bayesian-networks" class="nav-link" data-scroll-target="#bayesian-networks">Bayesian Networks</a>
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">Background</a></li>
  <li><a href="#bayesian-networks-in-r" id="toc-bayesian-networks-in-r" class="nav-link" data-scroll-target="#bayesian-networks-in-r">Bayesian Networks in R</a>
  <ul class="collapse">
  <li><a href="#creating-bayesian-networks" id="toc-creating-bayesian-networks" class="nav-link" data-scroll-target="#creating-bayesian-networks">Creating Bayesian Networks</a></li>
  <li><a href="#model-validation" id="toc-model-validation" class="nav-link" data-scroll-target="#model-validation">Model Validation</a></li>
  <li><a href="#inference" id="toc-inference" class="nav-link" data-scroll-target="#inference">Inference</a></li>
  </ul></li>
  <li><a href="#bnviewer" id="toc-bnviewer" class="nav-link" data-scroll-target="#bnviewer">Bnviewer</a></li>
  </ul></li>
  <li><a href="#analysis-of-ubco-data-science-major-curriculum" id="toc-analysis-of-ubco-data-science-major-curriculum" class="nav-link" data-scroll-target="#analysis-of-ubco-data-science-major-curriculum">Analysis of UBCO Data Science Major Curriculum</a>
  <ul>
  <li><a href="#maximum-structural-complexity" id="toc-maximum-structural-complexity" class="nav-link" data-scroll-target="#maximum-structural-complexity">Maximum Structural Complexity</a></li>
  <li><a href="#minimum-structural-complexity" id="toc-minimum-structural-complexity" class="nav-link" data-scroll-target="#minimum-structural-complexity">Minimum Structural Complexity</a></li>
  </ul></li>
  <li><a href="#analysis-of-ubco-data-science-minor-curriculum" id="toc-analysis-of-ubco-data-science-minor-curriculum" class="nav-link" data-scroll-target="#analysis-of-ubco-data-science-minor-curriculum">Analysis of UBCO Data Science Minor Curriculum</a>
  <ul>
  <li><a href="#maximum-structural-complexity-1" id="toc-maximum-structural-complexity-1" class="nav-link" data-scroll-target="#maximum-structural-complexity-1">Maximum Structural Complexity</a></li>
  <li><a href="#minimum-structural-complexity-1" id="toc-minimum-structural-complexity-1" class="nav-link" data-scroll-target="#minimum-structural-complexity-1">Minimum Structural Complexity</a></li>
  </ul></li>
  <li><a href="#creation-of-math-stream" id="toc-creation-of-math-stream" class="nav-link" data-scroll-target="#creation-of-math-stream">Creation of Math Stream</a>
  <ul>
  <li><a href="#maximum-structural-complexity-2" id="toc-maximum-structural-complexity-2" class="nav-link" data-scroll-target="#maximum-structural-complexity-2">Maximum Structural Complexity</a></li>
  <li><a href="#minimum-structural-complexity-2" id="toc-minimum-structural-complexity-2" class="nav-link" data-scroll-target="#minimum-structural-complexity-2">Minimum Structural Complexity</a></li>
  </ul></li>
  <li><a href="#simulation" id="toc-simulation" class="nav-link" data-scroll-target="#simulation">Simulation</a></li>
  <li><a href="#curriculum" id="toc-curriculum" class="nav-link" data-scroll-target="#curriculum">2023-2024 Curriculum</a>
  <ul>
  <li><a href="#maximum-structural-complexity-3" id="toc-maximum-structural-complexity-3" class="nav-link" data-scroll-target="#maximum-structural-complexity-3">Maximum Structural Complexity</a></li>
  <li><a href="#minimum-structural-complexity-3" id="toc-minimum-structural-complexity-3" class="nav-link" data-scroll-target="#minimum-structural-complexity-3">Minimum Structural Complexity</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">UBCO-Curriucla-Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction-to-network-analysis-in-r" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-network-analysis-in-r">Introduction to Network Analysis in R</h2>
<p>A nice introduction to Network Analysis in R is given <a href="https://www.jessesadler.com/post/network-analysis-with-r/">here</a></p>
<p>The major players in the network analysis space for R are the Statnet packages, tidygraph, igrpah. Interactive graphs can be created with the vizNetowrk and networkD3 packages. For an example of the some of the interactive visualizations we could make look <a href="https://christophergandrud.github.io/networkD3/">here</a>. There is also plenty of support for these visualization in Shiny so we do we eventually make a dashboard style took these will make an easy addition.</p>
<p>Next I follow the tutorial by Jesse Sadler to introduce working with networks in R.</p>
<p>Generally to create graphs you will need an adjacency matrix (for the network, igraph, and tidygraph packages) or an edge-list data frame for the tidyverse workflow. Edge-list dataframes can be converted to adjacency matrix and so we opt for their creation when doing network analysis.</p>
<p>Edge-list data frames have at least two columns: “from” and “to” columns for describing connections between nodes. Other columns may be added to describes attributes of nodes or weights for edges. Each node requires a unique identifier, generally an integer. An example Edge-list data frame:</p>
<div class="cell" data-hash="index_cache/html/Load libraries_f75f0fa47baa1c1ad04ddb9c17799900">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(network)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(docstring)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Edge and Node List Example_4d1bcb194e624007fcbbf69eb515279e">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"node "</span>, <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">4</span>)))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>edge_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
   from    to
  &lt;dbl&gt; &lt;dbl&gt;
1     1     2
2     2     3
3     2     4
4     3     2
5     4     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>node_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
     id label  
  &lt;int&gt; &lt;chr&gt;  
1     1 node  1
2     2 node  2
3     3 node  3
4     4 node  4</code></pre>
</div>
</div>
<p>Let’s explore the various packages.</p>
<section id="network" class="level3">
<h3 class="anchored" data-anchor-id="network">network</h3>
<p>We create a network object from the edge list.</p>
<div class="cell" data-hash="index_cache/html/Network Object Example_794022193cbd1023c9a1d46ac89ec60c">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">network</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  edge_list,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.attr =</span> node_list,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">matrix.type =</span> <span class="st">"edgelist"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">ignore.eval =</span> <span class="cn">TRUE</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Network attributes:
  vertices = 4 
  directed = TRUE 
  hyper = FALSE 
  loops = FALSE 
  multiple = FALSE 
  bipartite = FALSE 
  total edges= 5 
    missing edges= 0 
    non-missing edges= 5 

 Vertex attribute names: 
    id label vertex.names 

No edge attributes</code></pre>
</div>
</div>
<p>Then we can visualize the graph. THe mode argument will use different algorithms to plot the graph.</p>
<div class="cell" data-hash="index_cache/html/Plotting Network Example_dd8f69900d74cc0b18c8e278ac61ec29">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(network, <span class="at">vertex.cex =</span> <span class="dv">4</span>, <span class="at">mode =</span> <span class="st">"circle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Plotting%20Network%20Example-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="igraph" class="level3">
<h3 class="anchored" data-anchor-id="igraph">igraph</h3>
<p>You need to remove the network package because there is a lot of overlap in the name space.</p>
<div class="cell" data-hash="index_cache/html/Igraph Example_b37fec013478e49a6c58a35594b22583">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Detatch network and load igraph</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(package<span class="sc">:</span>network)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(network)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We need to convert our edge list to a form usable by igraph.</p>
<div class="cell" data-hash="index_cache/html/Igraph Network Object Example_d3a33564b667b92dcf644af432c4118b">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">vertices =</span> node_list,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>network</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 043b643 DN-- 4 5 -- 
+ attr: name (v/c), label (v/c)
+ edges from 043b643 (vertex names):
[1] 1-&gt;2 2-&gt;3 2-&gt;4 3-&gt;2 4-&gt;1</code></pre>
</div>
</div>
<p>The information for the graph description is shorthand for a few things. D is directed, N says we have a name attribute, the first - means not weight weighted, the second - means not bipartite, 4 is the number of nodes, 5 is the number of edges, attr tells use there are two node attributes, and a print out of all edges. We can also plot this graph and again layout is an argument to control the algorithm for plotting the network.</p>
<div class="cell" data-hash="index_cache/html/Ploting Igraph Example_13b5f47897b910eb3a118d97bb9d7921">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  network,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">layout =</span> layout_with_graphopt,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.size =</span> <span class="dv">30</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex.label.cex =</span> <span class="dv">1</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.arrow.size =</span> <span class="fl">0.8</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Ploting%20Igraph%20Example-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="tidygraph-and-ggraph" class="level3">
<h3 class="anchored" data-anchor-id="tidygraph-and-ggraph">tidygraph and ggraph</h3>
<p>If we want to leverage the tidyverse workflow and ggplot we can use the tidygraph package. We first need to make a tbl_graph object.</p>
<div class="cell" data-hash="index_cache/html/Tidygraph Example_25a1c5e7bea1fb1f1f67df2efdec880c">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>network_tbl <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> node_list,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">edges =</span> edge_list,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>network_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tbl_graph: 4 nodes and 5 edges
#
# A directed simple graph with 1 component
#
# Node Data: 4 × 2 (active)
     id label  
  &lt;int&gt; &lt;chr&gt;  
1     1 node  1
2     2 node  2
3     3 node  3
4     4 node  4
#
# Edge Data: 5 × 2
   from    to
  &lt;int&gt; &lt;int&gt;
1     1     2
2     2     3
3     2     4
# … with 2 more rows</code></pre>
</div>
</div>
<p>The output states Node Data is active. This means if you manipulate data in this object it will manipulate the Node Data table. Use the activate() function to switch to the other table in the object. Now we can plot our network in a ggplot style.</p>
<div class="cell" data-hash="index_cache/html/Making ggraph Example_d23bb7c674aca1d3343343f26c607fa3">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(network_tbl, <span class="at">layout =</span> <span class="st">"graphopt"</span>) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>() <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> label), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using the `size` aesthetic in this geom was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` in the `default_aes` field and elsewhere instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Making%20ggraph%20Example-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You can also make arc graphs.</p>
<div class="cell" data-hash="index_cache/html/Arc Graph Example_f7bc6ac19235bc6fedb96b6a43453b65">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(network_tbl, <span class="at">layout =</span> <span class="st">"linear"</span>) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_arc</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> label)) <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>() <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/Arc%20Graph%20Example-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="interactive-visualizations" class="level3">
<h3 class="anchored" data-anchor-id="interactive-visualizations">Interactive visualizations</h3>
<p>It is quite easy to turn our previously static graphs into interactive visualizations. <a href="https://datastorm-open.github.io/visNetwork/">visNetwork</a> uses JavaScript to create these visualizations and has create documentation for increasing the interactivity of our graphs. We will use this visualization package for our analysis. Others however do exist like networkD3.</p>
<div class="cell" data-hash="index_cache/html/Interactive Viz Example_c3e353daf4f499b36d18437bf9d7c640">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node_list, edge_list) <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-891add3ef4686174245f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-891add3ef4686174245f">{"x":{"nodes":{"id":[1,2,3,4],"label":["node  1","node  2","node  3","node  4"]},"edges":{"from":[1,2,2,3,4],"to":[2,3,4,2,1]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"middle"}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="curricular-analytics" class="level2">
<h2 class="anchored" data-anchor-id="curricular-analytics">Curricular Analytics</h2>
<p>The following is adapted from <span class="citation" data-cites="heileman2018curricular">(<a href="#ref-heileman2018curricular" role="doc-biblioref">Heileman et al. 2018</a>)</span>.</p>
<p>Curriculum is modeled as a <em>directed acyclic graph</em> (DAG) where courses are nodes and requisite relationships between nodes are directed edges. Mathematically a <em>curriculum graph</em> is denoted <span class="math inline">\(G_c = V(V,E)\)</span> where <span class="math inline">\(v_1,\dots,v_n \in V\)</span> are courses and the directed edge <span class="math inline">\((v_i,v_j) \in E\)</span> is a requisite from <span class="math inline">\(v_i\)</span> to <span class="math inline">\(v_j\)</span> that must be completed before enrollment in <span class="math inline">\(v_j\)</span>. Nodes in these graph are organized in columns representing each term in a curriculum. Edges down columns are co-requisites and edges across columns are pre-requisites.</p>
<p>With this framework of modeling comes a host of useful metrics for gaining insight about a curriculum graph’s structure. Next we outline a few of the metrics and provide functions for calculating them.</p>
<p>First we construct a graph to showcase the metrics.</p>
<div class="cell" data-hash="index_cache/html/Example Graph to Showcase CA Metrics_b23f550b54d12a2fc56b696701d16830">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"v"</span>, <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">4</span>)))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">byrow =</span> T,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                          <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>                          <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                          <span class="dv">3</span>, <span class="dv">0</span>))</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node_list, edge_list) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-cc0b137cd0b50acaf10a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cc0b137cd0b50acaf10a">{"x":{"nodes":{"id":["1","2","3","4"],"label":["v1","v2","v3","v4"],"x":[-1,0,0,1],"y":[-1,-1,1,-1]},"edges":{"from":[1,2,1],"to":[2,4,3]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"middle","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="delay-factor" class="level3">
<h3 class="anchored" data-anchor-id="delay-factor">Delay Factor</h3>
<p><em>Delay factor</em> is a metric used to quantify the existent of long pathways through a curriculum graph. These longs paths indicate a chain of requisite relationships where if w a student were to fail a given course along the path they would suffer a heavily delayed graduation. The delay factor for a given node is the number of vertices in the longest path of <span class="math inline">\(G_c\)</span> that contains the given node. An isolated node’s delay factor is defined to be 1 and means it can be taken in any term. We also calculate the total delay factor for <span class="math inline">\(G_c\)</span> as the sum of all delay factors in the graph.</p>
<div class="cell" data-hash="index_cache/html/Define delay factor_3a38fce299a4a52ccb2ef0d4ae8427e6">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>delay_factor <span class="ot">&lt;-</span> <span class="cf">function</span>(edge_list, node_list) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Delay factor</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculates the delay factor for each node and the total delay factor of the curriculum graph. Delay factor is defined as the number of vertices in the longest path in G that pass through v. The function returns a list where bynode holds the delay factor for each node and total holds the delay factor for the graph.</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param edge_list data frame containing the edge list of the graph.</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param node_list data frame containing the node list of the graph.</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  bynode <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="cn">NA</span>, <span class="at">df =</span> <span class="cn">NA</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">vertices =</span> node_list,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  paths <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">as.numeric</span>(node_list<span class="sc">$</span>id)) {</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    paths <span class="ot">&lt;-</span> <span class="fu">c</span>(paths, <span class="fu">all_simple_paths</span>(network, <span class="at">from =</span> v, <span class="at">mode =</span> <span class="st">"out"</span>))</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">as.numeric</span>(node_list<span class="sc">$</span>id)) {</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    max_length <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (path <span class="cf">in</span> paths) {</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (v <span class="sc">%in%</span> <span class="fu">as.vector</span>(path) <span class="sc">&amp;&amp;</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>          max_length <span class="sc">&lt;</span> <span class="fu">length</span>(<span class="fu">as.vector</span>(path))) {</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>        max_length <span class="ot">&lt;-</span> <span class="fu">length</span>(<span class="fu">as.vector</span>(path))</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (max_length <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>      max_length <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>    bynode <span class="ot">&lt;-</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rbind</span>(bynode, <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">as.character</span>(v), <span class="at">df =</span> max_length))</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>  bynode <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(bynode)</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>  total <span class="ot">&lt;-</span> <span class="fu">sum</span>(bynode<span class="sc">$</span>df)</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">bynode =</span> bynode, <span class="at">total =</span> total)</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize example delay factor_4bfadac25fe6d11b30eab88683be94cd">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_df <span class="ot">&lt;-</span> <span class="fu">delay_factor</span>(edge_list, node_list)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df_df<span class="sc">$</span>bynode</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span> <span class="fu">left_join</span>(node_list, df, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">vertices =</span> node_list,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node_list, edge_list,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">submain =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Total df:"</span>, df_df<span class="sc">$</span>total))) <span class="sc">%&gt;%</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(<span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-79dd31a4bb8be709891a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-79dd31a4bb8be709891a">{"x":{"nodes":{"id":["1","2","3","4"],"label":["v1","v2","v3","v4"],"df":[3,3,2,3],"x":[-1,0,0,1],"y":[-1,-1,1,-1]},"edges":{"from":[1,2,1],"to":[2,4,3]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"middle","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total df: 11","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="blocking-factor" class="level3">
<h3 class="anchored" data-anchor-id="blocking-factor">Blocking Factor</h3>
<p><em>Blocking factor</em> is a quantity that captures a course’s ability to gatekeep other courses. That is, if you fail a course with a high blocking factor you are blocked from taking many other courses. The blocking factor of a node is the number of nodes reachable from the given node. The total blocking factor of the graph is the sum of all individual blocking factors.</p>
<div class="cell" data-hash="index_cache/html/Define blocking factor_50b6f3f991380cd9b2b1bf2093a14896">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>blocking_factor <span class="ot">&lt;-</span> <span class="cf">function</span>(edge_list, node_list) {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Blocking factor</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculates the blocking factor for each node and the total blocking factor of the curriculum graph. The blocking factor of a node v is the number of nodes reachable from v. The function returns a list where bynode holds the blocking factor for each node and total holds the blocking factor for the graph.</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param edge_list data frame containing the edge list of the graph.</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param node_list data frame containing the node list of the graph.</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  bynode <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="cn">NA</span>, <span class="at">bf =</span> <span class="cn">NA</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">vertices =</span> node_list,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  paths <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">as.numeric</span>(node_list<span class="sc">$</span>id)) {</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    paths <span class="ot">&lt;-</span> <span class="fu">c</span>(paths, <span class="fu">all_simple_paths</span>(network, <span class="at">from =</span> v, <span class="at">mode =</span> <span class="st">"out"</span>))</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">as.numeric</span>(node_list<span class="sc">$</span>id)) {</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    nodes_reachable <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (path <span class="cf">in</span> paths) {</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>      curr_path <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(path)</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (v <span class="sc">%in%</span> curr_path[<span class="dv">1</span>]) {</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>        nodes_reachable <span class="ot">&lt;-</span> <span class="fu">c</span>(nodes_reachable, curr_path)</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    nodes_reachable <span class="ot">&lt;-</span> <span class="fu">unique</span>(nodes_reachable)</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    nodes_reachable <span class="ot">&lt;-</span> nodes_reachable[nodes_reachable <span class="sc">!=</span> v]</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>    bynode <span class="ot">&lt;-</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rbind</span>(bynode, <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">as.character</span>(v), <span class="at">bf =</span> <span class="fu">length</span>(nodes_reachable)))</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>  bynode <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(bynode)</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">bynode =</span> bynode, <span class="at">total =</span> <span class="fu">sum</span>(bynode<span class="sc">$</span>bf))</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize example blocking factor_30b0d77dcf19f778f41a7d316f7dac69">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bf_df <span class="ot">&lt;-</span> <span class="fu">blocking_factor</span>(edge_list, node_list)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>bf <span class="ot">&lt;-</span> bf_df<span class="sc">$</span>bynode</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span> <span class="fu">left_join</span>(node_list, bf, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">vertices =</span> node_list,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node_list, edge_list,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">submain =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Total bf:"</span>, bf_df<span class="sc">$</span>total))) <span class="sc">%&gt;%</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(<span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf);}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-87568cfe52b7b67d3542" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-87568cfe52b7b67d3542">{"x":{"nodes":{"id":["1","2","3","4"],"label":["v1","v2","v3","v4"],"df":[3,3,2,3],"bf":[3,1,0,0],"x":[-1,0,0,1],"y":[-1,-1,1,-1]},"edges":{"from":[1,2,1],"to":[2,4,3]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"middle","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total bf: 4","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="centrality-factor" class="level3">
<h3 class="anchored" data-anchor-id="centrality-factor">Centrality Factor</h3>
<p><em>Centrality factor</em> indicates how central a node is to a curriculum. A node is considered central if it requires many pre-requisite courses and is itself a pre-requisite to many courses. Heileman et al.&nbsp;says in curricular analytics we are greatly interested in how learning outcomes achieved in one course are used in later courses and we therefore wish to identify key central courses in these paths <span class="citation" data-cites="heileman2018curricular">(<a href="#ref-heileman2018curricular" role="doc-biblioref">2018</a>)</span>. The centrality factor is meant to capture this and is defined as the number of nodes in all long paths that include the given node. A long path is defined to be a path with length greater than or equal to 3. Nodes who only fall on paths shorter than this are given a centrality of 0.</p>
<div class="cell" data-hash="index_cache/html/Define centrality factor_bb7dd8c5356f198e4d209374f0cf9c99">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>centrality_factor <span class="ot">&lt;-</span> <span class="cf">function</span>(edge_list, node_list) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Centrality factor</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculates the centrality factor for each node. The centrality factor of a node v is the number of long paths containing v where a long path is one of length 3 or greater. The function returns a dataframe that holds the centrality factor for each node.</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param edge_list data frame containing the edge list of the graph.</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param node_list data frame containing the node list of the graph.</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  bynode <span class="ot">&lt;-</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">as.numeric</span>(node_list<span class="sc">$</span>id), <span class="at">cf =</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">length</span>(node_list<span class="sc">$</span>id)))</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">vertices =</span> node_list,</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  paths <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (v <span class="cf">in</span> <span class="fu">as.numeric</span>(node_list<span class="sc">$</span>id)) {</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    paths <span class="ot">&lt;-</span> <span class="fu">c</span>(paths, <span class="fu">all_simple_paths</span>(network, <span class="at">from =</span> v, <span class="at">mode =</span> <span class="st">"out"</span>))</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (path <span class="cf">in</span> paths) {</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    curr_path <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(path)</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(curr_path) <span class="sc">&gt;=</span> <span class="dv">3</span>) {</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>      long_path_nodes <span class="ot">&lt;-</span> curr_path[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="fu">length</span>(curr_path))]</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (node <span class="cf">in</span> long_path_nodes) {</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>        bynode[node, <span class="fu">c</span>(<span class="st">"cf"</span>)] <span class="ot">&lt;-</span> bynode[node, <span class="fu">c</span>(<span class="st">"cf"</span>)] <span class="sc">+</span> <span class="fu">length</span>(curr_path)</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>  bynode<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">as.character</span>(bynode<span class="sc">$</span>id)</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>  bynode</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize example centrality factor_ab64bfa7addeec453d39d691f78278df">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>cf <span class="ot">&lt;-</span> <span class="fu">centrality_factor</span>(edge_list, node_list)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span> <span class="fu">left_join</span>(node_list, cf, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">vertices =</span> node_list,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node_list, edge_list) <span class="sc">%&gt;%</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(<span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf);}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-29d93c43a1ca790742e2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-29d93c43a1ca790742e2">{"x":{"nodes":{"id":["1","2","3","4"],"label":["v1","v2","v3","v4"],"df":[3,3,2,3],"bf":[3,1,0,0],"cf":[0,3,0,0],"x":[-1,0,0,1],"y":[-1,-1,1,-1]},"edges":{"from":[1,2,1],"to":[2,4,3]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"middle","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="structural-complexity-and-course-cruciality" class="level3">
<h3 class="anchored" data-anchor-id="structural-complexity-and-course-cruciality">Structural Complexity and Course Cruciality</h3>
<p><em>Structural Complexity</em> is a metric that assess the impact that curricular structure will have on a student’s journey through a curriculum. In simulations it was find that a high structural complexity correlated to decreased graduation rates. The structural complexity for a given graph is the sum of all nodes’ crucialities. Cruciality is simply a linear combination of a given node’s delay and blocking factors.</p>
<div class="cell" data-hash="index_cache/html/Define structural complexity_cbe06ef933f0e56807e39ec6dffaf7e7">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>structural_complexity <span class="ot">&lt;-</span> <span class="cf">function</span>(edge_list, node_list) {</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Structural Complexity</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' Calculates the cruciality for each node and the structural complexity for the entire curriculum graph. The structural complexity is the sum of all node crucialities.The function returns a list where bynode holds the cruciality for each node and total holds the structural complexity for the graph.</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#'</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param edge_list data frame containing the edge list of the graph.</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#' @param node_list data frame containing the node list of the graph.</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  bf_df <span class="ot">&lt;-</span> <span class="fu">blocking_factor</span>(edge_list, node_list)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  bf <span class="ot">&lt;-</span> bf_df<span class="sc">$</span>bynode<span class="sc">$</span>bf</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  df_df <span class="ot">&lt;-</span> <span class="fu">delay_factor</span>(edge_list, node_list)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df_df<span class="sc">$</span>bynode<span class="sc">$</span>df</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  bynode <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> node_list<span class="sc">$</span>id, <span class="at">sc =</span> (bf <span class="sc">+</span> df))</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">bynode =</span> bynode, <span class="at">total =</span> <span class="fu">sum</span>(bynode<span class="sc">$</span>sc))</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize example structural complexity_3928f3f8a2ae3b2bfda05d2727934054">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>), <span class="at">to =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"v"</span>, <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>)))</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> T,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>           <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>           <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>           <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>           <span class="dv">3</span>, <span class="dv">0</span>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>sc <span class="ot">&lt;-</span> <span class="fu">structural_complexity</span>(edge_list, node_list)<span class="sc">$</span>bynode</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>node_list <span class="ot">&lt;-</span> <span class="fu">left_join</span>(node_list, sc, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"id"</span>))</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>network <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_list,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">vertices =</span> node_list,</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(node_list, edge_list) <span class="sc">%&gt;%</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(<span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc);}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2006c7fcbbe6090d7ca3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2006c7fcbbe6090d7ca3">{"x":{"nodes":{"id":["1","2","3","4","5"],"label":["v1","v2","v3","v4","v5"],"sc":[7,2,4,2,3],"x":[-1,0,0,0,1],"y":[-1,-1,0,1,-1]},"edges":{"from":[1,1,1,3],"to":[2,3,4,5]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"middle","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="bayesian-networks" class="level2">
<h2 class="anchored" data-anchor-id="bayesian-networks">Bayesian Networks</h2>
<p><em>Bayesian Networks</em> (BNs) are a machine learning model that in the context of curricular analytics can be used for knowledge discovery and lowering the structural complexity of a curriculum graph <span class="citation" data-cites="slim2021restructuring">(<a href="#ref-slim2021restructuring" role="doc-biblioref">Slim et al. 2021</a>)</span>. Slim et al.&nbsp;showcased the use of BNs in curricula graphs as a means to statistically validate the restructuring of university programs through discovering latent nodes in the graph evaluating them using a likelihood-ratio test. They further mention the model’s capability to be used in the prediction of student grades.</p>
<p>BNs have much support within R and the text <em>Bayesian Networks in R</em> provides a good introduction to many of the concepts used in this analysis <span class="citation" data-cites="nagarajan2013bayesian">(<a href="#ref-nagarajan2013bayesian" role="doc-biblioref">Nagarajan, Scutari, and Lèbre 2013</a>)</span>.</p>
<section id="background" class="level3">
<h3 class="anchored" data-anchor-id="background">Background</h3>
<p>Explanations and examples are adapted from <span class="citation" data-cites="scutari2009learning">(<a href="#ref-scutari2009learning" role="doc-biblioref">Scutari 2009</a>)</span>.</p>
<p>Bayesian networks utilize DAGs to model a set of random variables, i.e., for the set <span class="math inline">\(\mathbf{X}=\{X_1,\dots,X_p\}\)</span> of random variables the DAG <span class="math inline">\(G=(\mathbf{V},\mathbf{A})\)</span> is constructed where <span class="math inline">\(v_i \in \mathbf{V}\)</span> corresponds to a random variable from our set <span class="math inline">\(\mathbf{X}\)</span> and <span class="math inline">\(\mathbf{A}\)</span> is the set of arcs (edges).</p>
<p>The DAG itself is a factorization of the joint probability distribution of <span class="math inline">\(\mathbf{V}\)</span>. This factorization follows from the Markov property of Bayesian networks: every random variable <span class="math inline">\(X_i\)</span> directly depends only on its parents <span class="math inline">\(\Pi_{X_i}\)</span> or</p>
<p><span class="math display">\[P(X_1,\dots,X_v)=\prod^v_{i=1}P(X_i|\Pi_{X_i})\text{ (for discrete variables)}\]</span></p>
<p>probability distributions exist for each node as a result of this factorization, called <em>local probability distributions</em>. The joint probability distribution for all nodes is called the <em>global probability distribution</em>.</p>
<p>Bayesian network model selection is done through learning the graphical structure of a Bayesian network and then estimating the parameters of the local distribution functions. It is most common to assume the local distributions are multinomial for discrete data which fits our use case. Therefore for our use case we will have a data set of courses and grades that students got. The model will then learn casual relationships between courses and the resulting grades. For example perhaps the algorithm will learn that a high grade in MATH 100 is casually related to a high grade in MATH 101. Furthermore, a benefit of these models is we may include demographic or other information and see how these casually impact grades.</p>
<p>There are various algorithms to learn the structure of the BN however we opt to use <em>hill climbing greedy search</em> (hc) as done in <span class="citation" data-cites="slim2021restructuring">(<a href="#ref-slim2021restructuring" role="doc-biblioref">Slim et al. 2021</a>)</span>. For further information on what this algorithm does see <span class="citation" data-cites="scutari2009learning">(<a href="#ref-scutari2009learning" role="doc-biblioref">Scutari 2009</a>)</span> and <span class="citation" data-cites="daly2007methods">(<a href="#ref-daly2007methods" role="doc-biblioref">Daly and Shen 2007</a>)</span>. The general idea is that hc will use some score function while investigating candidate Bayesian networks and select the one that maximizes some set heuristic. As we are working with discrete data the heuristics available to us are the <em>likelihood</em>, <em>Akaike Information Criterion</em> (AIC), <em>Bayesian Information Criterion</em> (BIC), <em>Bayesian Dirichelt equivalent score</em> (BDE), and the <em>K2 score</em>.</p>
<p><span class="citation" data-cites="slim2021restructuring">(<a href="#ref-slim2021restructuring" role="doc-biblioref">Slim et al. 2021</a>)</span> further showcases how one may learn the structure of a BN and calculate the likelihood of the model, then add a hidden node and calculate the new likelihood, and finally conduct a likelihood-ratio test to see if the model has improved. If the model has improved, the newly added node represents a potential course that could be included in the curriculum to reduce structural complexity and improve student performance. Note there won’t be grade data for this new course so its conditional probability is calculated using <em>expectation-maximization</em> (EM).</p>
</section>
<section id="bayesian-networks-in-r" class="level3">
<h3 class="anchored" data-anchor-id="bayesian-networks-in-r">Bayesian Networks in R</h3>
<section id="creating-bayesian-networks" class="level4">
<h4 class="anchored" data-anchor-id="creating-bayesian-networks">Creating Bayesian Networks</h4>
<p><em>bnlearn</em> is a popular package for using BNs. We now run through an example to demonstrate its use. Many useful examples are available <a href="https://www.bnlearn.com/examples/">here</a>. We opt for only exploring methods for discrete data as our use case is discrete.</p>
<p>There are various ways to form a Bayesian network. One way is to specify the edge list directly. In the context of Curricular Analytics we may simply uses all requisite edges in a Curriculum graph as the priors. This will restrict casual edges to being on prerequisite relationships. While this assumption is likely not entirely true, as a course like MATH 100 may influence many courses down the line other than MATH 101, this restriction allows us to use a smaller data set. Here we demonstrate how to construct a BN using priors in R on a curriculum with dummy grade data. For the sake of this example I assume there will be no failing grades in this graph. To deal with this possibility one would have to make use of Markov Models as Slim does <span class="citation" data-cites="slim2016curricular">(<a href="#ref-slim2016curricular" role="doc-biblioref">2016</a>)</span>.</p>
<p>For these examples I will use a simulated data set based on the following curriculum graph:</p>
<div class="cell" data-hash="index_cache/html/Dispaly Example Graph for BNs_3d41777dbab8a9c6d8597ab79d5a3082">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load graph data</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../data/rdata/minGraph.RData"</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, </span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, </span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>, </span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>,</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span>,</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">4</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize graph</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">" "</span>, <span class="st">"."</span>, min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>node_list,</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>edge_list,</span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>sc_total,</span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>bf_total,</span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>df_total</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1add3ef4686174245fcc" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1add3ef4686174245fcc">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"],"label":["DATA.101","CHEM.111","MATH.100","MATH.101","ENGL.112","ENGL.150","PHYS.111","PHYS.121","COSC.111","COSC.121","MATH.200","MATH.221","STAT.230","COSC.221","COSC.222","DATA.301","DATA.311","COSC.304","STAT.303","PHIL.331","STAT.400","STAT.406","COSC.303","COSC.329","COSC.407","MATH.303","MATH.307","DATA.405","DATA.407"],"sc":[8,1,19,15,1,1,3,2,11,4,7,6,9,10,3,5,5,2,4,1,1,5,4,1,2,4,3,5,5],"cf":[0,0,0,61,0,0,0,0,0,3,21,9,88,43,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0],"bf":[5,0,14,10,0,0,1,0,8,1,3,3,4,5,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0],"df":[3,1,5,5,1,1,2,2,3,3,4,3,5,5,3,3,5,2,4,1,1,5,4,1,2,4,3,5,5],"x":[-1,-1,-1,-1,-1,-0.6,-0.6,-0.6,-0.6,-0.6,-0.2,-0.2,-0.2,-0.2,-0.2,0.2,0.2,0.2,0.2,0.2,0.6,0.6,0.6,0.6,1,1,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,-1,-0.5,0,0.5,1]},"edges":{"from":["3","3","7","9","4","3","1","4","14","4","10","9","9","13","9","11","13","9","11","12","16","9","11","12","16","12","13","13"],"to":["4","8","8","10","11","12","13","13","13","14","15","16","17","17","18","19","22","23","23","23","23","25","26","26","26","27","28","29"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 147 Total Blocking Factor: 56 Total Delay Factor: 91","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>The data needed for a BN will consist of a student’s grades for all these courses.</p>
<div class="cell" data-hash="index_cache/html/Create Dummy Grades BN_ae28a124fc7a984307b3e8073e9d00b2">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get courses and Grades for Factor</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>courses <span class="ot">&lt;-</span> min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>grades <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A+"</span>, <span class="st">"A"</span>, <span class="st">"A-"</span>, <span class="st">"B+"</span>, <span class="st">"B"</span>, <span class="st">"B-"</span>, <span class="st">"C+"</span>, <span class="st">"C"</span>, <span class="st">"C-"</span>, <span class="st">"D"</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct Data Frame</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="fu">setNames</span>(<span class="fu">replicate</span>(</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">length</span>(courses), <span class="fu">numeric</span>(<span class="dv">1000</span>), <span class="at">simplify =</span> <span class="cn">FALSE</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  ), courses))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_len</span>(<span class="dv">1000</span>)) {</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(courses)) {</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    df[i, j] <span class="ot">&lt;-</span> <span class="fu">sample</span>(grades, <span class="dv">1</span>)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">lapply</span>(df, <span class="cf">function</span>(x)</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">factor</span>(x, <span class="at">levels =</span> grades)))</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">DATA.101</th>
<th style="text-align: left;">CHEM.111</th>
<th style="text-align: left;">MATH.100</th>
<th style="text-align: left;">MATH.101</th>
<th style="text-align: left;">ENGL.112</th>
<th style="text-align: left;">ENGL.150</th>
<th style="text-align: left;">PHYS.111</th>
<th style="text-align: left;">PHYS.121</th>
<th style="text-align: left;">COSC.111</th>
<th style="text-align: left;">COSC.121</th>
<th style="text-align: left;">MATH.200</th>
<th style="text-align: left;">MATH.221</th>
<th style="text-align: left;">STAT.230</th>
<th style="text-align: left;">COSC.221</th>
<th style="text-align: left;">COSC.222</th>
<th style="text-align: left;">DATA.301</th>
<th style="text-align: left;">DATA.311</th>
<th style="text-align: left;">COSC.304</th>
<th style="text-align: left;">STAT.303</th>
<th style="text-align: left;">PHIL.331</th>
<th style="text-align: left;">STAT.400</th>
<th style="text-align: left;">STAT.406</th>
<th style="text-align: left;">COSC.303</th>
<th style="text-align: left;">COSC.329</th>
<th style="text-align: left;">COSC.407</th>
<th style="text-align: left;">MATH.303</th>
<th style="text-align: left;">MATH.307</th>
<th style="text-align: left;">DATA.405</th>
<th style="text-align: left;">DATA.407</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">B</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A-</td>
</tr>
<tr class="even">
<td style="text-align: left;">A-</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A+</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A-</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C-</td>
</tr>
<tr class="even">
<td style="text-align: left;">A</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">A+</td>
</tr>
<tr class="odd">
<td style="text-align: left;">D</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">C+</td>
</tr>
<tr class="even">
<td style="text-align: left;">C-</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">C+</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">B</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">A+</td>
<td style="text-align: left;">A</td>
<td style="text-align: left;">A-</td>
<td style="text-align: left;">C-</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">C</td>
<td style="text-align: left;">B-</td>
<td style="text-align: left;">B+</td>
<td style="text-align: left;">C+</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As we can see each column is a factor of the grades and each row is a student’s grades as they flow throw the curriculum graph:</p>
<div class="cell" data-hash="index_cache/html/Str of df_f6ec7858c199c64c468f14205a83b89b">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   1000 obs. of  29 variables:
 $ DATA.101: Factor w/ 10 levels "A+","A","A-",..: 5 3 3 2 10 9 6 10 8 3 ...
 $ CHEM.111: Factor w/ 10 levels "A+","A","A-",..: 9 1 2 2 4 4 6 5 1 10 ...
 $ MATH.100: Factor w/ 10 levels "A+","A","A-",..: 2 7 1 3 6 7 9 1 2 9 ...
 $ MATH.101: Factor w/ 10 levels "A+","A","A-",..: 5 8 1 5 2 4 2 10 8 2 ...
 $ ENGL.112: Factor w/ 10 levels "A+","A","A-",..: 5 7 8 6 6 9 9 6 1 7 ...
 $ ENGL.150: Factor w/ 10 levels "A+","A","A-",..: 4 10 7 5 8 3 3 2 8 6 ...
 $ PHYS.111: Factor w/ 10 levels "A+","A","A-",..: 1 4 5 2 9 5 1 3 8 10 ...
 $ PHYS.121: Factor w/ 10 levels "A+","A","A-",..: 6 8 6 8 10 7 7 1 3 10 ...
 $ COSC.111: Factor w/ 10 levels "A+","A","A-",..: 2 5 9 5 7 6 4 4 4 4 ...
 $ COSC.121: Factor w/ 10 levels "A+","A","A-",..: 10 3 1 8 4 10 10 10 4 8 ...
 $ MATH.200: Factor w/ 10 levels "A+","A","A-",..: 2 6 2 5 9 2 2 3 10 4 ...
 $ MATH.221: Factor w/ 10 levels "A+","A","A-",..: 5 4 7 9 10 7 4 4 2 1 ...
 $ STAT.230: Factor w/ 10 levels "A+","A","A-",..: 8 10 4 10 1 3 8 8 7 10 ...
 $ COSC.221: Factor w/ 10 levels "A+","A","A-",..: 10 2 1 8 8 5 7 7 2 7 ...
 $ COSC.222: Factor w/ 10 levels "A+","A","A-",..: 10 8 4 5 9 8 9 4 4 9 ...
 $ DATA.301: Factor w/ 10 levels "A+","A","A-",..: 8 1 7 3 8 1 1 2 6 9 ...
 $ DATA.311: Factor w/ 10 levels "A+","A","A-",..: 7 9 5 5 1 5 3 1 8 6 ...
 $ COSC.304: Factor w/ 10 levels "A+","A","A-",..: 3 6 7 1 8 1 10 3 3 5 ...
 $ STAT.303: Factor w/ 10 levels "A+","A","A-",..: 8 10 3 1 4 9 5 10 10 6 ...
 $ PHIL.331: Factor w/ 10 levels "A+","A","A-",..: 7 9 9 7 9 10 1 3 4 1 ...
 $ STAT.400: Factor w/ 10 levels "A+","A","A-",..: 6 3 10 4 9 1 5 7 8 2 ...
 $ STAT.406: Factor w/ 10 levels "A+","A","A-",..: 3 4 1 5 4 2 10 2 7 5 ...
 $ COSC.303: Factor w/ 10 levels "A+","A","A-",..: 10 5 4 2 8 3 3 9 9 1 ...
 $ COSC.329: Factor w/ 10 levels "A+","A","A-",..: 10 6 7 1 8 9 6 8 10 6 ...
 $ COSC.407: Factor w/ 10 levels "A+","A","A-",..: 4 4 5 2 9 10 5 1 5 7 ...
 $ MATH.303: Factor w/ 10 levels "A+","A","A-",..: 2 9 3 9 7 8 1 5 8 5 ...
 $ MATH.307: Factor w/ 10 levels "A+","A","A-",..: 10 10 8 7 1 6 2 8 6 2 ...
 $ DATA.405: Factor w/ 10 levels "A+","A","A-",..: 8 8 4 3 9 4 9 6 7 3 ...
 $ DATA.407: Factor w/ 10 levels "A+","A","A-",..: 3 1 9 1 7 7 5 7 2 3 ...</code></pre>
</div>
</div>
<p>With this we can construct our BN with the requisite edgelist for nodes in this graph. The edge list is specified in the following form:</p>
<div class="cell" data-hash="index_cache/html/View edge_list for Dummy Data_9540ab04a8559674c8743fdc84a51d5f">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(min_graph<span class="sc">$</span>edge_list))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">from</th>
<th style="text-align: left;">to</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">9</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">4</td>
<td style="text-align: left;">11</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">12</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="index_cache/html/Create a Fully Specified Model_e402f723319f61b2c54cf3d8e6d89279">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bnlearn)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO no edge information for STAt 400</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a fully specified model</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> min_graph<span class="sc">$</span>node_list[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>wl <span class="ot">&lt;-</span> min_graph<span class="sc">$</span>edge_list</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>wl<span class="sc">$</span>from <span class="ot">&lt;-</span> <span class="fu">left_join</span>(wl, map, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"from"</span> <span class="ot">=</span> <span class="st">"id"</span>))<span class="sc">$</span>label</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>wl<span class="sc">$</span>to <span class="ot">&lt;-</span> <span class="fu">left_join</span>(wl, map, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"to"</span> <span class="ot">=</span> <span class="st">"id"</span>))<span class="sc">$</span>label</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">empty.graph</span>(min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="fu">arcs</span>(e) <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(wl)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>e</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Random/Generated Bayesian network

  model:
   [DATA.101][CHEM.111][MATH.100][ENGL.112][ENGL.150][PHYS.111][COSC.111]
   [PHIL.331][STAT.400][COSC.329][MATH.101|MATH.100][PHYS.121|MATH.100:PHYS.111]
   [COSC.121|COSC.111][MATH.221|MATH.100][DATA.301|COSC.111][COSC.304|COSC.111]
   [COSC.407|COSC.111][MATH.200|MATH.101][COSC.221|MATH.101][COSC.222|COSC.121]
   [MATH.307|MATH.221][STAT.230|DATA.101:MATH.101:COSC.221][STAT.303|MATH.200]
   [COSC.303|COSC.111:MATH.200:MATH.221:DATA.301]
   [MATH.303|MATH.200:MATH.221:DATA.301][DATA.311|COSC.111:STAT.230]
   [STAT.406|STAT.230][DATA.405|STAT.230][DATA.407|STAT.230]
  nodes:                                 29 
  arcs:                                  28 
    undirected arcs:                     0 
    directed arcs:                       28 
  average markov blanket size:           2.55 
  average neighbourhood size:            1.93 
  average branching factor:              0.97 

  generation algorithm:                  Empty </code></pre>
</div>
</div>
<p>Rather than specify all edges we may also make use of structural learning and our data set to generate a BN.</p>
<p>If you wish to include priors while learning the structure you may do so by specifying a white list. These edges will always be included in the graph and is similar to the approach above.</p>
<div class="cell" data-hash="index_cache/html/Create a Whitelisted Strucural Learning BN_8e82d05bf738cc937d8cb5ecc4b803bb">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO no edge information for STAT 400</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>bn.spec <span class="ot">&lt;-</span> <span class="fu">hc</span>(df, <span class="at">whitelist =</span> wl, <span class="at">score =</span> <span class="st">"bic"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>bn.spec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Bayesian network learned via Score-based methods

  model:
   [DATA.101][CHEM.111][MATH.100][ENGL.112][ENGL.150][PHYS.111][COSC.111]
   [PHIL.331][STAT.400][COSC.329][MATH.101|MATH.100][PHYS.121|MATH.100:PHYS.111]
   [COSC.121|COSC.111][MATH.221|MATH.100][DATA.301|COSC.111][COSC.304|COSC.111]
   [COSC.407|COSC.111][MATH.200|MATH.101][COSC.221|MATH.101][COSC.222|COSC.121]
   [MATH.307|MATH.221][STAT.230|DATA.101:MATH.101:COSC.221][STAT.303|MATH.200]
   [COSC.303|COSC.111:MATH.200:MATH.221:DATA.301]
   [MATH.303|MATH.200:MATH.221:DATA.301][DATA.311|COSC.111:STAT.230]
   [STAT.406|STAT.230][DATA.405|STAT.230][DATA.407|STAT.230]
  nodes:                                 29 
  arcs:                                  28 
    undirected arcs:                     0 
    directed arcs:                       28 
  average markov blanket size:           2.55 
  average neighbourhood size:            1.93 
  average branching factor:              0.97 

  learning algorithm:                    Hill-Climbing 
  score:                                 BIC (disc.) 
  penalization coefficient:              3.453878 
  tests used in the learning procedure:  739 
  optimized:                             TRUE </code></pre>
</div>
</div>
<p>The network learned from our data and white list is</p>
<div class="cell" data-hash="index_cache/html/View bn.spec_71ecf787c79d0cded68e477abdfd5c58">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bnviewer)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">viewer</span>(bn.spec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-55f0a4bbd1dad012bb50" style="width:100%;height:500px;" class="visNetwork html-widget "></div>
<script type="application/json" data-for="htmlwidget-55f0a4bbd1dad012bb50">{"x":{"nodes":{"id":["DATA.101","CHEM.111","MATH.100","MATH.101","ENGL.112","ENGL.150","PHYS.111","PHYS.121","COSC.111","COSC.121","MATH.200","MATH.221","STAT.230","COSC.221","COSC.222","DATA.301","DATA.311","COSC.304","STAT.303","PHIL.331","STAT.400","STAT.406","COSC.303","COSC.329","COSC.407","MATH.303","MATH.307","DATA.405","DATA.407"],"label":[" DATA.101"," CHEM.111"," MATH.100"," MATH.101"," ENGL.112"," ENGL.150"," PHYS.111"," PHYS.121"," COSC.111"," COSC.121"," MATH.200"," MATH.221"," STAT.230"," COSC.221"," COSC.222"," DATA.301"," DATA.311"," COSC.304"," STAT.303"," PHIL.331"," STAT.400"," STAT.406"," COSC.303"," COSC.329"," COSC.407"," MATH.303"," MATH.307"," DATA.405"," DATA.407"]},"edges":{"from":["MATH.100","MATH.100","PHYS.111","COSC.111","MATH.101","MATH.100","DATA.101","MATH.101","COSC.221","MATH.101","COSC.121","COSC.111","COSC.111","STAT.230","COSC.111","MATH.200","STAT.230","COSC.111","MATH.200","MATH.221","DATA.301","COSC.111","MATH.200","MATH.221","DATA.301","MATH.221","STAT.230","STAT.230"],"to":["MATH.101","PHYS.121","PHYS.121","COSC.121","MATH.200","MATH.221","STAT.230","STAT.230","STAT.230","COSC.221","COSC.222","DATA.301","DATA.311","DATA.311","COSC.304","STAT.303","STAT.406","COSC.303","COSC.303","COSC.303","COSC.303","COSC.407","MATH.303","MATH.303","MATH.303","MATH.307","DATA.405","DATA.407"],"smooth":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true],"dashes":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"font.size":[18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18],"font.color":["black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black"],"shadow":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"to"},"layout":{"randomSeed":123}},"groups":null,"width":"100%","height":"500px","idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"background":null,"iconsRedraw":true,"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This is the same as the original graph as we specified all edges we wanted. We may also learn the structure given our data. For this example we use constraint-based learning methods.</p>
<div class="cell" data-hash="index_cache/html/generate pdag_47bfcd6e4d6014bbbb8d8d2f5183828f">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pdag <span class="ot">=</span> <span class="fu">iamb</span>(df)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>pdag</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Bayesian network learned via Constraint-based methods

  model:
    [partially directed graph]
  nodes:                                 29 
  arcs:                                  9 
    undirected arcs:                     7 
    directed arcs:                       2 
  average markov blanket size:           0.69 
  average neighbourhood size:            0.62 
  average branching factor:              0.069 

  learning algorithm:                    IAMB 
  conditional independence test:         Mutual Information (disc.) 
  alpha threshold:                       0.05 
  tests used in the learning procedure:  2180 </code></pre>
</div>
</div>
<p>As we can see it learned different edges between nodes and even learned some undirected edges. Undirected edges arise when the two possible directions are score equivalent and so we have to set them (BNs must be DAGs).</p>
<div class="cell" data-hash="index_cache/html/create dag from pdag_09501b2e8490239a190bbce5b222c67e">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>dag <span class="ot">=</span> <span class="fu">cextend</span>(pdag)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>dag</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Bayesian network learned via Constraint-based methods

  model:
   [DATA.101][ENGL.112][PHYS.111][PHYS.121][COSC.111][COSC.121][MATH.200]
   [STAT.230][COSC.221][COSC.222][DATA.301][DATA.311][COSC.304][STAT.303]
   [PHIL.331][COSC.303][COSC.407][MATH.303][MATH.307][DATA.405][DATA.407]
   [CHEM.111|COSC.221][MATH.100|PHYS.121][MATH.101|STAT.303][ENGL.150|COSC.304]
   [MATH.221|COSC.303][STAT.400|MATH.307][STAT.406|COSC.121:DATA.311]
   [COSC.329|DATA.407]
  nodes:                                 29 
  arcs:                                  9 
    undirected arcs:                     0 
    directed arcs:                       9 
  average markov blanket size:           0.69 
  average neighbourhood size:            0.62 
  average branching factor:              0.31 

  learning algorithm:                    IAMB 
  conditional independence test:         Mutual Information (disc.) 
  alpha threshold:                       0.05 
  tests used in the learning procedure:  2180 </code></pre>
</div>
</div>
<p>Once the structure is learned you must do parameter estimation to learn the conditional probability tables of the nodes. We use maximum likelihood estimation. We can then plot the conditional probabilities for each node.</p>
<div class="cell" data-hash="index_cache/html/cpt for data 101 mle_1e16fc1ef649cb163e845e41b049ec7f">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>fitted <span class="ot">=</span> <span class="fu">bn.fit</span>(dag, df, <span class="at">method =</span> <span class="st">"mle"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bn.fit.dotplot</span>(fitted<span class="sc">$</span>DATA<span class="fl">.101</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/cpt%20for%20data%20101%20mle-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You may also use the expected value of the nodes’ posterior distribution to calculate conditional probability tables:</p>
<div class="cell" data-hash="index_cache/html/cpt for data 101 bayes_965c1001d09a9893700589a34acdf3d8">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>fitted <span class="ot">=</span> <span class="fu">bn.fit</span>(dag, df, <span class="at">method =</span> <span class="st">"bayes"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bn.fit.dotplot</span>(fitted<span class="sc">$</span>DATA<span class="fl">.101</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/cpt%20for%20data%20101%20bayes-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="model-validation" class="level4">
<h4 class="anchored" data-anchor-id="model-validation">Model Validation</h4>
<p>Bnlearn has many functions for comparing the structure of BNs. This allows us to construct multiple Bayesian Networks, perhaps one from our whitelist and the other from a structural learning algorithm, and compare and contrast them.</p>
<p>We can check if two networks are equivalent. This method will tell us if the number of nodes, edges, or both are different.</p>
<div class="cell" data-hash="index_cache/html/check equality for dag_e0c4c35d6dd7147bea73aceca573ef91">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(bn.spec,dag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Different number of directed/undirected arcs"</code></pre>
</div>
</div>
<p>The <em>Hamming distance</em> computes the number of arcs that are different between two networks and is a similarity metric.</p>
<div class="cell" data-hash="index_cache/html/hamming_49d4bf37b8c89443936899d6679dd66a">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hamming</span>(bn.spec,dag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33</code></pre>
</div>
</div>
<p>We can use bn.boot() to bootstrap custom functions on our graph. For example to know how many arcs you can expect in a network learned with iamb:</p>
<div class="cell" data-hash="index_cache/html/test bn.boot_b7484bebb4c76ff3b2194460e327256e">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(<span class="fu">bn.boot</span>(df, <span class="at">statistic =</span> narcs, <span class="at">algorithm =</span> <span class="st">"iamb"</span>, <span class="at">R =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  7 12  9  8  8  6  8  8 12  5</code></pre>
</div>
</div>
<p>arc strength is a measure of the degree of confidence for a single arc. We may calculate the arc strength as follows</p>
<div class="cell" data-hash="index_cache/html/test arc strength_7a501b82751e7c155d0bffb6ac5e1f2e">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(<span class="fu">boot.strength</span>(df, <span class="at">algorithm =</span> <span class="st">"iamb"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">from</th>
<th style="text-align: left;">to</th>
<th style="text-align: right;">strength</th>
<th style="text-align: right;">direction</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">DATA.101</td>
<td style="text-align: left;">CHEM.111</td>
<td style="text-align: right;">0.040</td>
<td style="text-align: right;">0.3750000</td>
</tr>
<tr class="even">
<td style="text-align: left;">DATA.101</td>
<td style="text-align: left;">MATH.100</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DATA.101</td>
<td style="text-align: left;">MATH.101</td>
<td style="text-align: right;">0.020</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">DATA.101</td>
<td style="text-align: left;">ENGL.112</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DATA.101</td>
<td style="text-align: left;">ENGL.150</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">DATA.101</td>
<td style="text-align: left;">PHYS.111</td>
<td style="text-align: right;">0.065</td>
<td style="text-align: right;">0.6153846</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Cross-validation is also implemented for BNs. This will perform cross-validation for a specified structural learning algorithm. This way you can compare which algorithms minimize the log-likelihood loss better and are therefore fitting the data better.</p>
<div class="cell" data-hash="index_cache/html/plot cv bar chart_6b5c98b3be32d31854a39797e6c89853">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>cv.bic <span class="ot">=</span> <span class="fu">bn.cv</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  df,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">bn =</span> <span class="st">"hc"</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">runs =</span> <span class="dv">10</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">algorithm.args =</span> <span class="fu">list</span>(<span class="at">score =</span> <span class="st">"bic"</span>)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>cv.bde <span class="ot">=</span> <span class="fu">bn.cv</span>(</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  df,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">bn =</span> <span class="st">"hc"</span>,</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">runs =</span> <span class="dv">10</span>,</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">algorithm.args =</span> <span class="fu">list</span>(<span class="at">score =</span> <span class="st">"bde"</span>, <span class="at">iss =</span> <span class="dv">1</span>)</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cv.bic, cv.bde, <span class="at">xlab =</span> <span class="fu">c</span>(<span class="st">"BIC"</span>, <span class="st">"BDe"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/plot%20cv%20bar%20chart-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We may also compare the structure of our whitelist graph and learned graphs using cv. This will tell us how our expert knowledge graph holds up.</p>
<p>Expert graph:</p>
<div class="cell" data-hash="index_cache/html/k-fold cv on bn expert_23f8445e0b4ff0f52736f9c1fc950efe">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bn.cv</span>(df,e, <span class="at">algorithm.args =</span> <span class="fu">list</span>(<span class="at">score =</span> <span class="st">"aic"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  k-fold cross-validation for Bayesian networks

  target network structure:
   [DATA.101][CHEM.111][MATH.100][ENGL.112][ENGL.150][PHYS.111][COSC.111]
   [PHIL.331][STAT.400][COSC.329][MATH.101|MATH.100][PHYS.121|MATH.100:PHYS.111]
   [COSC.121|COSC.111][MATH.221|MATH.100][DATA.301|COSC.111][COSC.304|COSC.111]
   [COSC.407|COSC.111][MATH.200|MATH.101][COSC.221|MATH.101][COSC.222|COSC.121]
   [MATH.307|MATH.221][STAT.230|DATA.101:MATH.101:COSC.221][STAT.303|MATH.200]
   [COSC.303|COSC.111:MATH.200:MATH.221:DATA.301]
   [MATH.303|MATH.200:MATH.221:DATA.301][DATA.311|COSC.111:STAT.230]
   [STAT.406|STAT.230][DATA.405|STAT.230][DATA.407|STAT.230]
  number of folds:                       10 
  loss function:                         Log-Likelihood Loss (disc.) 
  expected loss:                         NA </code></pre>
</div>
</div>
<p>Learned Graph:</p>
<div class="cell" data-hash="index_cache/html/k-fold cv on learned_685dc5c02ab92c5de136f8aed11fdf5c">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bn.cv</span>(df,dag, <span class="at">algorithm.args =</span> <span class="fu">list</span>(<span class="at">score =</span> <span class="st">"aic"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  k-fold cross-validation for Bayesian networks

  target network structure:
   [DATA.101][ENGL.112][PHYS.111][PHYS.121][COSC.111][COSC.121][MATH.200]
   [STAT.230][COSC.221][COSC.222][DATA.301][DATA.311][COSC.304][STAT.303]
   [PHIL.331][COSC.303][COSC.407][MATH.303][MATH.307][DATA.405][DATA.407]
   [CHEM.111|COSC.221][MATH.100|PHYS.121][MATH.101|STAT.303][ENGL.150|COSC.304]
   [MATH.221|COSC.303][STAT.400|MATH.307][STAT.406|COSC.121:DATA.311]
   [COSC.329|DATA.407]
  number of folds:                       10 
  loss function:                         Log-Likelihood Loss (disc.) 
  expected loss:                         66.65575 </code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/k-fold cv on alarm test_b990abc5982208fbe8d865d92ffb313b">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(alarm)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">=</span> <span class="fu">empty.graph</span>(<span class="fu">names</span>(alarm))</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">modelstring</span>(res) <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">"[HIST|LVF][CVP|LVV][PCWP|LVV][HYP][LVV|HYP:LVF]"</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>   <span class="st">"[LVF][STKV|HYP:LVF][ERLO][HRBP|ERLO:HR][HREK|ERCA:HR][ERCA]"</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>   <span class="st">"[HRSA|ERCA:HR][ANES][APL][TPR|APL][ECO2|ACO2:VLNG][KINK]"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>   <span class="st">"[MINV|INT:VLNG][FIO2][PVS|FIO2:VALV][SAO2|PVS:SHNT][PAP|PMB][PMB]"</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>   <span class="st">"[SHNT|INT:PMB][INT][PRSS|INT:KINK:VTUB][DISC][MVS][VMCH|MVS]"</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>   <span class="st">"[VTUB|DISC:VMCH][VLNG|INT:KINK:VTUB][VALV|INT:VLNG][ACO2|VALV]"</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>   <span class="st">"[CCHL|ACO2:ANES:SAO2:TPR][HR|CCHL][CO|HR:STKV][BP|CO:TPR]"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a> <span class="fu">bn.cv</span>(alarm, res, <span class="at">algorithm.args =</span> <span class="fu">list</span>(<span class="at">score =</span> <span class="st">"aic"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  k-fold cross-validation for Bayesian networks

  target network structure:
   [FIO2][MVS][HYP][LVF][APL][ANES][PMB][INT][KINK][DISC][ERLO][ERCA][HIST|LVF]
   [TPR|APL][PAP|PMB][LVV|HYP:LVF][STKV|HYP:LVF][SHNT|PMB:INT][VMCH|MVS]
   [CVP|LVV][PCWP|LVV][VTUB|DISC:VMCH][PRSS|INT:KINK:VTUB][VLNG|INT:KINK:VTUB]
   [MINV|INT:VLNG][VALV|INT:VLNG][PVS|FIO2:VALV][ACO2|VALV][SAO2|SHNT:PVS]
   [ECO2|ACO2:VLNG][CCHL|TPR:SAO2:ANES:ACO2][HR|CCHL][CO|STKV:HR][HRBP|ERLO:HR]
   [HREK|HR:ERCA][HRSA|HR:ERCA][BP|TPR:CO]
  number of folds:                       10 
  loss function:                         Log-Likelihood Loss (disc.) 
  expected loss:                         10.82027 </code></pre>
</div>
</div>
<p>We can of course use cv for prediction error</p>
<div class="cell" data-hash="index_cache/html/predic error on math 303_fcf9149b6e1edc96f1e918903902bbde">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>xval <span class="ot">=</span> <span class="fu">bn.cv</span>(df, <span class="at">bn =</span> <span class="st">"hc"</span>, <span class="at">loss =</span> <span class="st">"pred"</span>, <span class="at">loss.args =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">"MATH.303"</span>))</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>xval</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  k-fold cross-validation for Bayesian networks

  target learning algorithm:             Hill-Climbing 
  number of folds:                       10 
  loss function:                         Classification Error 
  training node:                         MATH.303 
  expected loss:                         0.882 </code></pre>
</div>
</div>
<p>Moving this into a confusion matrix</p>
<div class="cell" data-hash="index_cache/html/cm for math 303_50b0d02618f7dab502ae85f57292ca01">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>OBS <span class="ot">=</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(xval, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>, <span class="st">"observed"</span>))</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>PRED <span class="ot">=</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(xval, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>, <span class="st">"predicted"</span>))</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(OBS, PRED)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    PRED
OBS   A+   A  A-  B+   B  B-  C+   C  C-   D
  A+   0   0   0   0  86   0  10   0   0   0
  A    0   0   0   0  83   0   6   0   0   0
  A-   0   0   0   0  84   0  10   0   0   0
  B+   0   0   0   0  93   0   7   0   0   0
  B    0   0   0   0 113   0  15   0   0   0
  B-   0   0   0   0  70   0  12   0   0   0
  C+   0   0   0   0 116   0   5   0   0   0
  C    0   0   0   0  79   0  10   0   0   0
  C-   0   0   0   0  87   0  10   0   0   0
  D    0   0   0   0  89   0  15   0   0   0</code></pre>
</div>
</div>
</section>
<section id="inference" class="level4">
<h4 class="anchored" data-anchor-id="inference">Inference</h4>
<p>With a fitted model we can perform inference. A common task in inference is to calculate the log-likelihood to gain a better understanding of model fit. This is done quite easily:</p>
<div class="cell" data-hash="index_cache/html/loglik on bn.hc_85f7383e064ab03528881917038be3c9">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Train/Test Split</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>df_train <span class="ot">&lt;-</span> df[<span class="dv">1</span><span class="sc">:</span><span class="dv">600</span>,]</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>df_test <span class="ot">&lt;-</span> df[<span class="dv">601</span><span class="sc">:</span><span class="dv">1000</span>,]</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate model</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>bn.hc <span class="ot">&lt;-</span> <span class="fu">hc</span>(df_train, <span class="at">whitelist =</span> wl)</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate log-likelihood for the entire model</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="fu">logLik</span>(bn.hc,df_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -22537.61</code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/summary of loglik per node_c727172d886076b9c75f094c74b0661d">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate log-likelihood for individual nodes</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">logLik</span>(bn.hc, df_test, <span class="at">nodes =</span> <span class="fu">colnames</span>(df), <span class="at">by.sample =</span> <span class="cn">TRUE</span>, <span class="at">debug =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in check.unused.args(extra.args, score.extra.args[[score]]): unused
argument(s): 'nodes' 'by.sample'.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>----------------------------------------------------------------
* processing node DATA.101.
  &gt; loglikelihood is -913.211877.
----------------------------------------------------------------
* processing node CHEM.111.
  &gt; loglikelihood is -917.051137.
----------------------------------------------------------------
* processing node MATH.100.
  &gt; loglikelihood is -914.084194.
----------------------------------------------------------------
* processing node MATH.101.
  &gt; loglikelihood is -873.736600.
----------------------------------------------------------------
* processing node ENGL.112.
  &gt; loglikelihood is -916.722015.
----------------------------------------------------------------
* processing node ENGL.150.
  &gt; loglikelihood is -915.682924.
----------------------------------------------------------------
* processing node PHYS.111.
  &gt; loglikelihood is -915.591077.
----------------------------------------------------------------
* processing node PHYS.121.
  &gt; loglikelihood is -492.939674.
----------------------------------------------------------------
* processing node COSC.111.
  &gt; loglikelihood is -919.250865.
----------------------------------------------------------------
* processing node COSC.121.
  &gt; loglikelihood is -861.137864.
----------------------------------------------------------------
* processing node MATH.200.
  &gt; loglikelihood is -883.274862.
----------------------------------------------------------------
* processing node MATH.221.
  &gt; loglikelihood is -875.037784.
----------------------------------------------------------------
* processing node STAT.230.
  &gt; loglikelihood is -96.884257.
----------------------------------------------------------------
* processing node COSC.221.
  &gt; loglikelihood is -858.900084.
----------------------------------------------------------------
* processing node COSC.222.
  &gt; loglikelihood is -867.823368.
----------------------------------------------------------------
* processing node DATA.301.
  &gt; loglikelihood is -867.952748.
----------------------------------------------------------------
* processing node DATA.311.
  &gt; loglikelihood is -499.069224.
----------------------------------------------------------------
* processing node COSC.304.
  &gt; loglikelihood is -874.391878.
----------------------------------------------------------------
* processing node STAT.303.
  &gt; loglikelihood is -869.379848.
----------------------------------------------------------------
* processing node PHIL.331.
  &gt; loglikelihood is -916.914560.
----------------------------------------------------------------
* processing node STAT.400.
  &gt; loglikelihood is -916.826983.
----------------------------------------------------------------
* processing node STAT.406.
  &gt; loglikelihood is -862.485370.
----------------------------------------------------------------
* processing node COSC.303.
  &gt; loglikelihood is -18.545075.
----------------------------------------------------------------
* processing node COSC.329.
  &gt; loglikelihood is -916.321572.
----------------------------------------------------------------
* processing node COSC.407.
  &gt; loglikelihood is -864.777343.
----------------------------------------------------------------
* processing node MATH.303.
  &gt; loglikelihood is -99.909518.
----------------------------------------------------------------
* processing node MATH.307.
  &gt; loglikelihood is -867.678955.
----------------------------------------------------------------
* processing node DATA.405.
  &gt; loglikelihood is -874.796246.
----------------------------------------------------------------
* processing node DATA.407.
  &gt; loglikelihood is -867.233684.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 -22538  -22538  -22538  -22538  -22538  -22538 </code></pre>
</div>
</div>
<p>Prediction is available to us as well. There are several methods for prediction that we will now go through.</p>
<p>One way to conduct predictions is to use the local distribution of any given node to find the most probable value for that node conditioned on its parents. Let’s say we want to predict students’ grades for DATA 311 using this method.</p>
<div class="cell" data-hash="index_cache/html/parent predic example_011afc1e1de9c9da93e4bb4fbeff2006">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>dfitted <span class="ot">=</span> <span class="fu">bn.fit</span>(dag, df_train)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">=</span> <span class="fu">predict</span>(dfitted, <span class="at">node =</span> <span class="st">"DATA.311"</span>, <span class="at">data =</span> df_test, <span class="at">method =</span> <span class="st">"parents"</span>)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] C- C- C- C- C- C-
Levels: A+ A A- B+ B B- C+ C C- D</code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/cm for parent predic example_0ecfbdae28dadf4ab2fa5f0b6647a335">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_test<span class="sc">$</span>DATA<span class="fl">.311</span>, pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    pred
     A+  A A- B+  B B- C+  C C-  D
  A+  0  0  0  0  0  0  0  0 34  0
  A   0  0  0  0  0  0  0  0 44  0
  A-  0  0  0  0  0  0  0  0 41  0
  B+  0  0  0  0  0  0  0  0 34  0
  B   0  0  0  0  0  0  0  0 50  0
  B-  0  0  0  0  0  0  0  0 42  0
  C+  0  0  0  0  0  0  0  0 37  0
  C   0  0  0  0  0  0  0  0 36  0
  C-  0  0  0  0  0  0  0  0 45  0
  D   0  0  0  0  0  0  0  0 37  0</code></pre>
</div>
</div>
<p>A limitation of this prediction method is root nodes lack parents and are therefore assigned the mode value of their distribution as the prediction.</p>
<p>Setting method to bayes-lw will allow us to predict using more nodes than simply the parents. This uses Monte Carlo posterior inference to perform predictions with likelihood weighting.</p>
<div class="cell" data-hash="index_cache/html/bayes-lw predic example_820a61d40cf925b0f5acf16da43c9914">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>pred <span class="ot">=</span> <span class="fu">predict</span>(dfitted, <span class="at">node =</span> <span class="st">"DATA.311"</span>, <span class="at">data =</span> df_test, <span class="at">method =</span> <span class="st">"bayes-lw"</span>)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] &lt;NA&gt; D    B-   D    B    A   
Levels: A+ A A- B+ B B- C+ C C- D</code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/bayes-lw predic example cm_55fcca1c71e7d8641c7a251ba84f451c">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_test<span class="sc">$</span>DATA<span class="fl">.311</span>, pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    pred
     A+  A A- B+  B B- C+  C C-  D
  A+  4  0  4  2  3  5  3  3  6  2
  A   4  8  9  0  4  3  3  3  5  4
  A-  3  6  3  2  4  4  1 10  2  5
  B+  3  2  2  2  5  1  6  2  5  6
  B   3  4 10  0  9  5  4  3  5  6
  B-  8  3  6  2  1  4  2  5  7  3
  C+  8  4  3  1  1  1  4  2  5  7
  C   4  2  2  0  2  1  8  4  9  2
  C-  5  3  4  1  7  2  6  3  3 11
  D   4  4  4  1  5  5  1  5  2  4</code></pre>
</div>
</div>
</section>
</section>
<section id="bnviewer" class="level3">
<h3 class="anchored" data-anchor-id="bnviewer">Bnviewer</h3>
<p><a href="http://robsonfernandes.net/bnviewer/">Bnviewer</a> is an interactive visualization library for Bayesian networks. Aside from being able to visualize base networks we can make interesting visualizations highlighting many different metrics.</p>
</section>
</section>
<section id="analysis-of-ubco-data-science-major-curriculum" class="level2">
<h2 class="anchored" data-anchor-id="analysis-of-ubco-data-science-major-curriculum">Analysis of UBCO Data Science Major Curriculum</h2>
<p>Our data set consists of course information from the data science program at UBCO. We have course codes, names, descriptions, and requisite relationships.</p>
<div class="cell" data-hash="index_cache/html/Read in data_f7a7f684ebf8275df9e9f5135782732a">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>ubco <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"..</span><span class="sc">\\</span><span class="st">data</span><span class="sc">\\</span><span class="st">UBCO</span><span class="sc">\\</span><span class="st">UBCO_Course_Calendar.csv"</span>)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ubco)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Course.Code
1    DATA 101
2    CHEM 111
3    CHEM 121
4    MATH 100
5    MATH 101
6    ENGL 109
                                                                   Course.Name
1                                                 Making Predictions with Data
2                                                    Principles of Chemistry I
3                                               Atomic and Molecular Chemistry
4 Differential Calculus with Applications to Physical Sciences and Engineering
5     Integral Calculus with Applications to Physical Sciences and Engineering
6                                            Studies in Composition (Enhanced)
                                                                                                                                                                                                                                                                                                                                                                                  Course.Description
1                                                                                                                                                                                                                         Introduction to the techniques and software for handling real-world data. Topics include data cleaning, visualization, simulation, basic modelling, and prediction making.
2                                                                                                                                                                                   Stoichiometry, atomic and molecular structure, chemical periodicity, gases, liquids, solids, and solutions. Not open to students with Chemistry 12. Credit will be granted for only one of CHEM 111 or CHEM 121.
3                                                                                                                             Stoichiometry, atomic and molecular structure, chemical periodicity, gases, liquids, solids, and solutions. Required course for all students needing a first-year Chemistry course who have Chemistry 12. Credit will be granted for only one of CHEM 121 or CHEM 111.
4                                                                                                                                                                                                                            Derivatives of elementary functions, limits. Covers applications and modelling: graphing and optimization. Credit will be granted for only one of MATH 100 or MATH 116.
5                                                                                                                                                                                                                                                     Definite integral, integration techniques, applications, modelling, linear ODE's. Credit will be granted for only one of MATH 101 or MATH 142.
6 A two-semester practice-based course that gives learners an extended opportunity to develop university-level writing skills. Advances communication abilities in rhetoric, critical analysis, grammar, and documentation, with emphasis on research-based writing and academic literacy. Essays and exercises are required. Credit will be granted for only one of ENGL 109, ENGL 112 or ENGL 114.
  Prerequisite Corequisite Equivalents
1                                     
2                                     
3                                     
4                                     
5     MATH 100                        
6                                     </code></pre>
</div>
</div>
<p>With this we can construct degree pathways through our curriculum and graph them. Since there are many electives within our program there are many possible curriculum graphs. We will analyze the most and least structurally complex curricula and see what patterns emerge.</p>
<section id="maximum-structural-complexity" class="level3">
<h3 class="anchored" data-anchor-id="maximum-structural-complexity">Maximum Structural Complexity</h3>
<div class="cell" data-hash="index_cache/html/Generate Max Node Coords - Major_6134c90d74d72840197b2c7d79e1f18d">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb78-23"><a href="#cb78-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb78-24"><a href="#cb78-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb78-25"><a href="#cb78-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb78-26"><a href="#cb78-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>,</span>
<span id="cb78-27"><a href="#cb78-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb78-28"><a href="#cb78-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb78-29"><a href="#cb78-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb78-30"><a href="#cb78-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>,</span>
<span id="cb78-31"><a href="#cb78-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span></span>
<span id="cb78-32"><a href="#cb78-32" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Max Graph - Major_0e5dc28061d09eb5d82dd6dd747eea3f">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"..</span><span class="sc">\\</span><span class="st">data</span><span class="sc">\\</span><span class="st">rdata</span><span class="sc">\\</span><span class="st">maxGraph.RData"</span>)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  max_graph<span class="sc">$</span>node_list,</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>  max_graph<span class="sc">$</span>edge_list,</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>sc_total,</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>bf_total,</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>df_total</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-dd3ef4686174245fcc0b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-dd3ef4686174245fcc0b">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"],"label":["DATA 101","CHEM 111","MATH 100","MATH 101","ENGL 113","ENGL 114","PHYS 111","PHYS 122","COSC 111","COSC 121","MATH 200","MATH 221","STAT 230","COSC 221","COSC 222","DATA 301","DATA 311","COSC 304","STAT 303","PHIL 331","STAT 401","STAT 403","STAT 406","COSC 303","COSC 344","DATA 405","DATA 407","DATA 410","DATA 310"],"sc":[12,1,23,20,1,1,3,2,12,6,11,7,13,14,5,4,7,2,8,1,5,5,5,4,4,5,5,6,5],"cf":[0,0,0,105,0,0,0,0,0,7,48,12,160,72,7,3,34,0,36,0,0,0,0,0,0,0,0,0,0],"bf":[8,0,17,14,0,0,1,0,8,2,6,4,7,8,1,1,1,0,3,0,0,0,0,0,0,0,0,0,0],"df":[4,1,6,6,1,1,2,2,4,4,5,3,6,6,4,3,6,2,5,1,5,5,5,4,4,5,5,6,5],"x":[-1,-1,-1,-1,-1,-0.6,-0.6,-0.6,-0.6,-0.6,-0.2,-0.2,-0.2,-0.2,-0.2,0.2,0.2,0.2,0.2,0.2,0.6,0.6,0.6,0.6,0.6,1,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5]},"edges":{"from":["3","3","7","9","4","3","1","4","14","4","10","9","9","13","9","11","13","19","19","13","9","11","12","16","11","12","15","13","13","12","17","19","12","13"],"to":["4","8","8","10","11","12","13","13","13","14","15","16","17","17","18","19","21","21","22","23","24","24","24","24","25","25","25","26","27","28","28","28","29","29"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 197 Total Blocking Factor: 81 Total Delay Factor: 116","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>Examining our maximally complex graph we can learn the set of key courses that are contributing most to our metrics. The total structural complexity is 194, the total blocking factor is 80, and the total delay factor is 114.</p>
<p>The most central node in this graph by far is STAT 230 with a centrality factor of 138. In UBCO’s Data Science program is it the first statistics course many students encounter and is a preq-requisite to many 3rd and 4th year classes. Coming in at second is MATH 101 at 95. This also makes sense as it is Calculus 2 as it is a pre-requisite for STAT 230 and the Calculus 3 class MATH 200. Finally COSC 221 is 3rd with 70. This course is discrete math and is a pre-requisite for STAT 230. This suggests as STAT 230 is so central and course that is its pre-requisite is also central.</p>
<p>The course with the greatest blocking factor is MATH 100 with a blocking factor of 17. This course is Calculus 1 and so it is likely unavoidable to for this course to have a high blocking factor. After all, Calulus is the foundation for many courses in a data science program and so it finds itself the root of many chains of edges.</p>
<p>The course with the greatest delay factor is tied for MATH 100, MATH 101, STAT 230, COSC 221, DATA 311, and DATA 410. These courses find themselves a part of the longest path in the graph of length 6. This suggests being able to take DATA 410 is difficult within this curriculum structure as it is very easy to get delayed along the pre-requisite path to this course.</p>
<p>The course with the largest structural complexity is MATH 100 with a score of 23. This is followed by MATH 101 at 20 and COSC 221 at 14. It is interesting that STAT 230 comes at 4th with only a strucutral complexity of 12. Because MATH 100 and 101 find them selves at the root of many paths it follow that they add quite heavily to the structural complexity of our graph.</p>
<p>These metrics suggest a revision of pathways including STAT 230, MATH 100, MATH 101, and COSC 221.</p>
<p>Here is a full table of the metrics</p>
<div class="cell" data-hash="index_cache/html/Print Max Graph Metrics - Major_b9b5d6c83d168399347fa6012cbb6fc6">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(max_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">CHEM 111</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">ENGL 113</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">ENGL 114</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">PHYS 111</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">PHYS 122</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">COSC 121</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">MATH 221</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">COSC 222</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">COSC 304</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">PHIL 331</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">STAT 401</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">STAT 403</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">STAT 406</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">COSC 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">COSC 344</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">DATA 405</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">27</td>
<td style="text-align: left;">DATA 407</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">28</td>
<td style="text-align: left;">DATA 410</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">DATA 310</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="minimum-structural-complexity" class="level3">
<h3 class="anchored" data-anchor-id="minimum-structural-complexity">Minimum Structural Complexity</h3>
<div class="cell" data-hash="index_cache/html/Generate Min Node Coords - Major_e86e059680ede18b9ea3528d8d3706e6">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, </span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, </span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, </span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, </span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb81-26"><a href="#cb81-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>, </span>
<span id="cb81-27"><a href="#cb81-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb81-28"><a href="#cb81-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb81-29"><a href="#cb81-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>,</span>
<span id="cb81-30"><a href="#cb81-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span>,</span>
<span id="cb81-31"><a href="#cb81-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">4</span></span>
<span id="cb81-32"><a href="#cb81-32" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Min Graph - Major_44fa8759fc521c5e61c1e595e5701540">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../data/rdata/minGraph.RData"</span>)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>node_list,</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>edge_list,</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>sc_total,</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>bf_total,</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>df_total</span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-137cd0b50acaf10a79dd" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-137cd0b50acaf10a79dd">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"],"label":["DATA 101","CHEM 111","MATH 100","MATH 101","ENGL 112","ENGL 150","PHYS 111","PHYS 121","COSC 111","COSC 121","MATH 200","MATH 221","STAT 230","COSC 221","COSC 222","DATA 301","DATA 311","COSC 304","STAT 303","PHIL 331","STAT 400","STAT 406","COSC 303","COSC 329","COSC 407","MATH 303","MATH 307","DATA 405","DATA 407"],"sc":[8,1,19,15,1,1,3,2,11,4,7,6,9,10,3,5,5,2,4,1,1,5,4,1,2,4,3,5,5],"cf":[0,0,0,61,0,0,0,0,0,3,21,9,88,43,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0],"bf":[5,0,14,10,0,0,1,0,8,1,3,3,4,5,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0],"df":[3,1,5,5,1,1,2,2,3,3,4,3,5,5,3,3,5,2,4,1,1,5,4,1,2,4,3,5,5],"x":[-1,-1,-1,-1,-1,-0.6,-0.6,-0.6,-0.6,-0.6,-0.2,-0.2,-0.2,-0.2,-0.2,0.2,0.2,0.2,0.2,0.2,0.6,0.6,0.6,0.6,1,1,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,-1,-0.5,0,0.5,1]},"edges":{"from":["3","3","7","9","4","3","1","4","14","4","10","9","9","13","9","11","13","9","11","12","16","9","11","12","16","12","13","13"],"to":["4","8","8","10","11","12","13","13","13","14","15","16","17","17","18","19","22","23","23","23","23","25","26","26","26","27","28","29"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 147 Total Blocking Factor: 56 Total Delay Factor: 91","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>Examining the minimally complex graph we see quite a large reduction in the total metrics. The total structurcal complexity is 148, the total blocking factor is 55, and the total delay factor is 93.</p>
<p>However the course with the highest centrality factor is once again STAT 230 at 110; the courses with the highest blocking factors are MATH 100 (14), MATH 101 (10), and COSC 221 (6); the courses with the highest delay factors are MATH 100, MATH 101, MATH 200, STAT 230, COSC 221, DATA 311, STAT 303, STAT 401, STAT 403, COSC 421, DATA 407, and DATA 315 all at 5—suggesting multiple longest pathways; and the courses with the greatest structural complexity are MATH 100 (19), MATH 101 (15), and COSC 221 (11).</p>
<p>These results tell us that while upper year electives can vary and reduce the over all metric scores, there are common courses who contribute the most to complexity. Based on this restructuring is need surrounding STAT 230 and COSC 221. Since STAT 230 leads in centrality by more than double across both graphs it is a course that earns increased focus and dedication of resources. Another option for STAT 230 would be the creation of new courses to lessen its affect as a bottleneck. It is unlikely much can be down with MATH 100 and MATH 101 as they are students’ first introduction to Calculus and very foundational to all courses in the curriculum though further exploration is certainly warranted.</p>
<p>Here is a full table of the metrics</p>
<div class="cell" data-hash="index_cache/html/Print Min Graph Metrics - Major_894eb76b5f9f74d590b29a23f9c3e0cb">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(min_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">CHEM 111</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">ENGL 112</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">ENGL 150</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">PHYS 111</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">PHYS 121</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">COSC 121</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">MATH 221</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">COSC 222</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">COSC 304</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">PHIL 331</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">STAT 400</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">STAT 406</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">COSC 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">COSC 329</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">COSC 407</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">MATH 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">27</td>
<td style="text-align: left;">MATH 307</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">28</td>
<td style="text-align: left;">DATA 405</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">DATA 407</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The difference in elective coruses that caused the total metric scores to be so different are given below.</p>
<p>The courses in the max graph that are not found in the min graph are:</p>
<div class="cell" data-hash="index_cache/html/Print Max Unique Courses - Major_7eeaeda9e5f8066932658bca3f2f6bc2">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="sc">!</span>(max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="sc">%in%</span> min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">Courses=</span>max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label[idx]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Courses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ENGL 113</td>
</tr>
<tr class="even">
<td style="text-align: left;">ENGL 114</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PHYS 122</td>
</tr>
<tr class="even">
<td style="text-align: left;">STAT 401</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STAT 403</td>
</tr>
<tr class="even">
<td style="text-align: left;">COSC 344</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DATA 410</td>
</tr>
<tr class="even">
<td style="text-align: left;">DATA 310</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The courses in the min graph that are not found in the max graph are:</p>
<div class="cell" data-hash="index_cache/html/Print Min Unique Courses - Major_c402d92888785b0afd286c0161440d7c">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="sc">!</span>(min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="sc">%in%</span> max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">Courses=</span>min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label[idx]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Courses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ENGL 112</td>
</tr>
<tr class="even">
<td style="text-align: left;">ENGL 150</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PHYS 121</td>
</tr>
<tr class="even">
<td style="text-align: left;">STAT 400</td>
</tr>
<tr class="odd">
<td style="text-align: left;">COSC 329</td>
</tr>
<tr class="even">
<td style="text-align: left;">COSC 407</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MATH 303</td>
</tr>
<tr class="even">
<td style="text-align: left;">MATH 307</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="analysis-of-ubco-data-science-minor-curriculum" class="level2">
<h2 class="anchored" data-anchor-id="analysis-of-ubco-data-science-minor-curriculum">Analysis of UBCO Data Science Minor Curriculum</h2>
<p>Data Science minors are far more common at UBCO than the major. Therefore examination of the minor could prove fruitful as there will be a larger data pool for our machine learning models and restructuring of the minor will impact more students. We explore the maximally and minimally complex minor curriculum graphs. Minors are only 30 credits simply sampling 30 credits worth of courses will exclude important prerequisite courses. We still wish to examine how courses flow into one another therefore we sample 30 credits of minor courses and represent these nodes as circles. We then add triangles for prerequisite courses that are not counted towards the minor but would still be required to take if the student wished to complete the minor counting courses.</p>
<section id="maximum-structural-complexity-1" class="level4">
<h4 class="anchored" data-anchor-id="maximum-structural-complexity-1">Maximum Structural Complexity</h4>
<div class="cell" data-hash="index_cache/html/Generate Max Node Coords - Minor_691d9b2aa7a034d263eca8cd17fc959a">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb86-19"><a href="#cb86-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb86-20"><a href="#cb86-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb86-21"><a href="#cb86-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb86-22"><a href="#cb86-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb86-23"><a href="#cb86-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb86-24"><a href="#cb86-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb86-25"><a href="#cb86-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb86-26"><a href="#cb86-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>,</span>
<span id="cb86-27"><a href="#cb86-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">4</span></span>
<span id="cb86-28"><a href="#cb86-28" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Max Graph - Minor_8e7f771de19a55d109956ad53ea1f74a">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"..</span><span class="sc">\\</span><span class="st">data</span><span class="sc">\\</span><span class="st">rdata</span><span class="sc">\\</span><span class="st">maxGraph_minor.RData"</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  max_graph<span class="sc">$</span>node_list,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  max_graph<span class="sc">$</span>edge_list,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>sc_total,</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>bf_total,</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>df_total</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"TRUE"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"FALSE"</span>, <span class="at">color =</span> <span class="st">"lightblue"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">position =</span> <span class="st">"right"</span>, <span class="at">main =</span> <span class="st">"Is a Preqreq in the Minor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-31a4bb8be709891a8756" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-31a4bb8be709891a8756">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25"],"label":["DATA 101","STAT 230","DATA 301","DATA 311","PSYO 373","APSC 254","STAT 401","COSC 421","DATA 410","DATA 405","MATH 100","MATH 101","COSC 111","MATH 200","MATH 221","COSC 221","STAT 303","PSYO 372","PSYO 270","PSYO 271","PSYO 111","PSYO 121","APSC 173","APSC 172","APSC 178"],"shape":["circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle","triangle"],"group":["FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE","TRUE"],"sc":[10,11,2,7,6,3,5,5,6,5,17,15,6,8,4,12,7,7,9,8,11,10,4,6,4],"cf":[0,116,0,34,0,0,0,0,0,0,0,74,0,25,3,54,24,39,62,36,0,27,3,0,3],"bf":[6,5,0,1,0,0,0,0,0,0,11,9,3,3,1,6,2,1,3,2,5,4,1,3,1],"df":[4,6,2,6,6,3,5,5,6,5,6,6,3,5,3,6,5,6,6,6,6,6,3,3,3],"x":[-1,-1,-1,-1,-1,-0.5,-0.5,-0.5,-0.5,-0.5,0,0,0,0,0,0.5,0.5,0.5,0.5,0.5,1,1,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1]},"edges":{"from":["1","12","16","13","2","13","18","23","25","2","17","2","4","15","17","2","11","12","11","12","14","19","20","21","22","19","21","24","24"],"to":["2","2","2","3","4","4","5","6","6","7","7","8","9","9","9","10","12","14","15","16","17","18","18","19","19","20","22","23","25"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":false},"physics":{"stabilization":false},"groups":{"TRUE":{"color":"red"},"useDefaultGroups":true,"FALSE":{"color":"lightblue"}}},"groups":["FALSE","TRUE"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 188 Total Blocking Factor: 67 Total Delay Factor: 121","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"},"legend":{"width":0.1,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Is a Preqreq in the Minor","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>The maximally complex minor graph has a total structural complexity of 188, a total blocking factor of 67, and a total delay factor of 121. The minor represented in this graph is overly complex and likely would never appear in a student’s degree. Its structure is an artifact of PSYO 373’s and APSC 254;s inclusion in the minor. PSYO 373 is added so Psychology students can have access to the minor however, it forces many PYSO prerequisites to be included in the graph. Similarly for APSC 254, its inclusion is to make the minor available to engineering students though once again it inflates the total metric scores as in order to take it there are many engineering specific courses required. There is very little chance a student would take both PSYO 373 and APSC 254 as minor counting credits. With that being said it could still be interesting to see how the minor counting courses act with respect to their various factors.</p>
<p>The highest centrality node in the graph is STAT 230 with 116 followed by MATH 101 at 74.</p>
<p>The most crucial node is MATH 100 at 17 and the second most crucial node is MATH 101 at 15. These are also the highest blocking factor nodes at 11 and 9 respectively.</p>
<p>The greatest delay factor is 6 with the following courses being a part of the longest pathways: STAT 230, DATRA 311, PSYO 373, DATA 410, MATH 100, MATH 101, COSC 221, PSYO 372. PSYO 270, PSYO 271, PSYO 111, PSYO 121.</p>
<p>A full list of these courses and their metrics is given below.</p>
<div class="cell" data-hash="index_cache/html/Print Max Graph Metrics - Minor_e8e28ddd536e97fe5bf0ed1cbd4c3c30">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(max_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: left;">shape</th>
<th style="text-align: left;">group</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">PSYO 373</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">APSC 254</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">STAT 401</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">COSC 421</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">DATA 410</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">DATA 405</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">MATH 221</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">PSYO 372</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">PSYO 270</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">PSYO 271</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">PSYO 111</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">PSYO 121</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">APSC 173</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">APSC 172</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">APSC 178</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="minimum-structural-complexity-1" class="level4">
<h4 class="anchored" data-anchor-id="minimum-structural-complexity-1">Minimum Structural Complexity</h4>
<div class="cell" data-hash="index_cache/html/Generate Min Node Coords - Minor_86ae21460241f995079925c6f510c96c">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Min Graph - Minor_b79c9e946815e2cbc4eef69757002597">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"..</span><span class="sc">\\</span><span class="st">data</span><span class="sc">\\</span><span class="st">rdata</span><span class="sc">\\</span><span class="st">minGraph_minor.RData"</span>)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>node_list,</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>edge_list,</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>sc_total,</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>bf_total,</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>df_total</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">%&gt;%</span></span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"TRUE"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visGroups</span>(<span class="at">groupname =</span> <span class="st">"FALSE"</span>, <span class="at">color =</span> <span class="st">"lightblue"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">position =</span> <span class="st">"right"</span>, <span class="at">main =</span> <span class="st">"Is a Preqreq in the Minor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8cfe52b7b67d354229d9" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8cfe52b7b67d354229d9">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13"],"label":["DATA 101","STAT 230","DATA 301","DATA 311","COSC 111","COSC 221","DATA 405","DATA 315","STAT 303","COSC 329","MATH 100","MATH 101","MATH 200"],"shape":["circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","triangle","triangle","triangle"],"group":["FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","TRUE","TRUE","TRUE"],"sc":[7,8,2,5,4,9,5,5,4,1,13,12,5],"cf":[0,66,0,0,0,34,0,0,0,0,0,44,7],"bf":[4,3,0,0,2,4,0,0,0,0,8,7,1],"df":[3,5,2,5,2,5,5,5,4,1,5,5,4],"x":[-1,-1,-1,-1,-1,0,0,0,0,0,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0]},"edges":{"from":["1","6","12","5","2","5","12","2","2","13","11","12"],"to":["2","2","2","3","4","4","6","7","8","9","12","13"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":false},"physics":{"stabilization":false},"groups":{"TRUE":{"color":"red"},"useDefaultGroups":true,"FALSE":{"color":"lightblue"}}},"groups":["FALSE","TRUE"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 80 Total Blocking Factor: 29 Total Delay Factor: 51","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"},"legend":{"width":0.1,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Is a Preqreq in the Minor","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>The minimally complex minor graph has a total structural complexity of 80, a total blocking factor of 29, and a total delay factor of 51. This graph would be far more common for STEM students.</p>
<p>The most central node is STAT 230 with a centrality factor of 66 followed by MATH 101 with a factor fo 44.</p>
<p>The most crucial nodes are MATH 100 and MATH 101 with a cruciality of 13 and 12 respectively. They also hold the highest blocking factors of 8 and 7 respectively.</p>
<p>The greatest delay factor is 5 for the following courses: STAT 230, COSC 221, DATA 405, DATA 315, MATH 100, and MATH 101.</p>
<p>A full list of nodes and their metrics is printed below.</p>
<div class="cell" data-hash="index_cache/html/Print Min Graph Metrics - Minor_6288936b350627296826b8d6a337ee02">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(min_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: left;">shape</th>
<th style="text-align: left;">group</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">DATA 405</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">DATA 315</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">COSC 329</td>
<td style="text-align: left;">circle</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: left;">triangle</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The difference in elective courses that caused the total metric scores to be so different are given below.</p>
<p>The courses in the max graph that are not found in the min graph are:</p>
<div class="cell" data-hash="index_cache/html/Print Max Unique Courses - Minor_fa07cad90bf395a5f268f954faae3c16">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="sc">!</span>(max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="sc">%in%</span> min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">Courses=</span>max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label[idx]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Courses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PSYO 373</td>
</tr>
<tr class="even">
<td style="text-align: left;">APSC 254</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STAT 401</td>
</tr>
<tr class="even">
<td style="text-align: left;">COSC 421</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DATA 410</td>
</tr>
<tr class="even">
<td style="text-align: left;">MATH 221</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSYO 372</td>
</tr>
<tr class="even">
<td style="text-align: left;">PSYO 270</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSYO 271</td>
</tr>
<tr class="even">
<td style="text-align: left;">PSYO 111</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PSYO 121</td>
</tr>
<tr class="even">
<td style="text-align: left;">APSC 173</td>
</tr>
<tr class="odd">
<td style="text-align: left;">APSC 172</td>
</tr>
<tr class="even">
<td style="text-align: left;">APSC 178</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The courses in the min graph that are not found in the max graph are:</p>
<div class="cell" data-hash="index_cache/html/Print Min Unique Courses - Minor_011fdc226803cba19850cea08a553fa2">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="sc">!</span>(min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="sc">%in%</span> max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">Courses=</span>min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label[idx]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Courses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">DATA 315</td>
</tr>
<tr class="even">
<td style="text-align: left;">COSC 329</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="creation-of-math-stream" class="level2">
<h2 class="anchored" data-anchor-id="creation-of-math-stream">Creation of Math Stream</h2>
<p>Including MATH 409 increases structural complexity drastically as it requires a host of pre-requisite course not already available within the Data Science major. This suggests the possibility of a mathematics stream within Data Science where 2nd and 3rd year math courses would be made mandatory. We investigate the structure of a such a program below. Again due to graph variance we examine the most and least structurally complex graphs.</p>
<section id="maximum-structural-complexity-2" class="level3">
<h3 class="anchored" data-anchor-id="maximum-structural-complexity-2">Maximum Structural Complexity</h3>
<div class="cell" data-hash="index_cache/html/Generate Max Node Coords - Math_c6d0e53825510096db419a316f654ba1">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>,</span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>,</span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span>,</span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">4</span></span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Max Graph - Math_797770b0c7857f98977d1cd7f96de35e">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"..</span><span class="sc">\\</span><span class="st">data</span><span class="sc">\\</span><span class="st">rdata</span><span class="sc">\\</span><span class="st">maxGraph_math.RData"</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  max_graph<span class="sc">$</span>node_list,</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  max_graph<span class="sc">$</span>edge_list,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>sc_total,</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>bf_total,</span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>    max_graph<span class="sc">$</span>df_total</span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3c43a1ca790742e22006" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3c43a1ca790742e22006">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],"label":["DATA 101","CHEM 111","MATH 100","MATH 101","ENGL 114","ENGL 156","PHYS 112","PHYS 122","COSC 111","COSC 121","MATH 200","MATH 221","STAT 230","COSC 221","COSC 222","MATH 220","DATA 301","DATA 311","COSC 304","STAT 303","PHIL 331","STAT 401","MATH 303","MATH 307","MATH 409","DATA 410","DATA 310","DATA 315","MATH 319","MATH 225"],"sc":[10,1,24,20,1,1,3,2,10,4,11,8,11,12,3,3,4,7,2,8,1,5,4,3,5,6,5,5,6,7],"cf":[0,0,0,107,0,0,0,0,0,3,57,15,116,54,0,0,3,34,0,36,0,0,0,0,0,0,0,0,24,16],"bf":[6,0,18,14,0,0,1,0,7,1,6,5,5,6,0,0,1,1,0,3,0,0,0,0,0,0,0,0,1,2],"df":[4,1,6,6,1,1,2,2,3,3,5,3,6,6,3,3,3,6,2,5,1,5,4,3,5,6,5,5,5,5],"x":[-1,-1,-1,-1,-1,-0.6,-0.6,-0.6,-0.6,-0.6,-0.2,-0.2,-0.2,-0.2,-0.2,0.2,0.2,0.2,0.2,0.2,0.6,0.6,0.6,0.6,0.6,1,1,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1]},"edges":{"from":["3","3","7","9","4","3","1","4","14","4","10","4","9","9","13","9","11","13","20","11","12","17","12","12","20","29","12","18","20","12","13","13","11","30","4"],"to":["4","8","8","10","11","12","13","13","13","14","15","16","17","18","18","19","20","22","22","23","23","23","24","25","25","25","26","26","26","27","27","28","29","29","30"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 192 Total Blocking Factor: 77 Total Delay Factor: 115","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>Beginning with our maximally structurally complex graph we have a total structural complexity of 192, total blocking factor of 77, and a total delay factor of 115.</p>
<p>Our most central course is once again STAT 230 with a centrality factor of 116 however MATH 101 has closed the gap quite well and is at 107. This values are relatively quite close to each other where in previous graphs STAT 230 greatly exceeded any other node’s centrality.</p>
<p>The highest cruciality is MATH 100 with 24 and in second is MATH 101 with 20. As this is a math stream the importance of the early foundation calculus courses has increased. They act as a prerequisite to many courses and are the source nodes for many pathways which acts to increase these metrics. Unsurprisingly these courses also hold the highest blocking factors of 18 and 14 for MATH 100 and 101 respectively.</p>
<p>The highest delay factor is 6 for the following courses: MATH 100, MATH 101, STAT 230, COSC 221, DATA 311, DATA 410. This longest path is consistent with what we view previously in the normal DS major analysis.</p>
<p>A full list of nodes and their metrics is printed below.</p>
<div class="cell" data-hash="index_cache/html/Print Max Graph Metrics - Math_21bb01489498410405aa9a5ac823de82">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(max_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">CHEM 111</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">ENGL 114</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">ENGL 156</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">PHYS 112</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">PHYS 122</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">COSC 121</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">MATH 221</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">COSC 222</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">MATH 220</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">COSC 304</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">PHIL 331</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">STAT 401</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">MATH 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">MATH 307</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">MATH 409</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">DATA 410</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">27</td>
<td style="text-align: left;">DATA 310</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">28</td>
<td style="text-align: left;">DATA 315</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">MATH 319</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">30</td>
<td style="text-align: left;">MATH 225</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="minimum-structural-complexity-2" class="level3">
<h3 class="anchored" data-anchor-id="minimum-structural-complexity-2">Minimum Structural Complexity</h3>
<div class="cell" data-hash="index_cache/html/Generate Min Node Coords - Math_9841e051fe67ed2d4ecfb757dd74c84d">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, </span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, </span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, </span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, </span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>, </span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb97-28"><a href="#cb97-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb97-29"><a href="#cb97-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>, </span>
<span id="cb97-30"><a href="#cb97-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span>,</span>
<span id="cb97-31"><a href="#cb97-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>,<span class="dv">4</span></span>
<span id="cb97-32"><a href="#cb97-32" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Min Graph - Math_24500dac8ea10ac5f7abf0b61b502d7e">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../data/rdata/minGraph_math.RData"</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>node_list,</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>  min_graph<span class="sc">$</span>edge_list,</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">submain =</span> <span class="fu">paste</span>(</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Structural Complexity:"</span>,</span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>sc_total,</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Blocking Factor:"</span>,</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>bf_total,</span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Delay Factor:"</span>,</span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a>    min_graph<span class="sc">$</span>df_total</span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"middle"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb98-16"><a href="#cb98-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout.norm"</span>, <span class="at">layoutMatrix =</span> coords) <span class="sc">%&gt;%</span></span>
<span id="cb98-17"><a href="#cb98-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEvents</span>(</span>
<span id="cb98-18"><a href="#cb98-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">selectNode =</span> <span class="st">"function(properties) {</span></span>
<span id="cb98-19"><a href="#cb98-19" aria-hidden="true" tabindex="-1"></a><span class="st">      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb98-20"><a href="#cb98-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c7fcbbe6090d7ca3e70a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c7fcbbe6090d7ca3e70a">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"],"label":["DATA 101","CHEM 111","MATH 100","MATH 101","ENGL 109","PHYS 111","PHYS 121","COSC 111","COSC 121","MATH 200","MATH 221","STAT 230","COSC 221","COSC 222","MATH 220","DATA 301","DATA 311","COSC 304","STAT 303","PHIL 331","STAT 400","STAT 403","MATH 303","MATH 307","MATH 409","DATA 407","DATA 315","MATH 319","MATH 225"],"sc":[7,1,22,18,1,3,2,9,4,10,6,8,9,3,3,4,5,2,7,1,1,5,4,3,5,5,5,6,7],"cf":[0,0,0,82,0,0,0,0,3,48,9,66,34,0,0,3,0,0,24,0,0,0,0,0,0,0,0,24,16],"bf":[4,0,17,13,0,1,0,6,1,5,3,3,4,0,0,1,0,0,2,0,0,0,0,0,0,0,0,1,2],"df":[3,1,5,5,1,2,2,3,3,5,3,5,5,3,3,3,5,2,5,1,1,5,4,3,5,5,5,5,5],"x":[-1,-1,-1,-1,-1,-0.6,-0.6,-0.6,-0.6,-0.6,-0.2,-0.2,-0.2,-0.2,-0.2,0.2,0.2,0.2,0.2,0.2,0.6,0.6,0.6,0.6,1,1,1,1,1],"y":[-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,1,-1,-0.5,0,0.5,-1,-0.5,0,0.5,1]},"edges":{"from":["3","3","6","8","4","3","1","4","13","4","9","4","8","8","12","8","10","19","10","11","16","11","11","19","28","12","12","10","29","4"],"to":["4","7","7","9","10","11","12","12","12","13","14","15","16","17","17","18","19","22","23","23","23","24","25","25","25","26","27","28","28","29"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"middle","smooth":false},"physics":{"stabilization":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":{"text":"Total Structural Complexity: 166 Total Blocking Factor: 63 Total Delay Factor: 103","style":"font-family:Georgia, Times New Roman, Times, serif;font-size:12px;text-align:center;"},"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"events":{"selectNode":"function(properties) {\n      alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"}},"evals":["events.selectNode"],"jsHooks":[]}</script>
</div>
</div>
<p>Examining our minimally structurally complex graph we have a total structural complexity of 166, total blocking factor of 63, and a total delay factor of 103.</p>
<p>Interestingly our most central node becomes MATH 10 at 82 followed by STAT 230 at 66. MATH 100 exceeding STAT 230 is likely a result of the reduction is upper year DATA course like 410 in favor of STAT courses like 400 and 403. Removing these DATA courses reduced the amount of paths through STAT 230. AS we added many more math courses the number of long paths through MATH 101 has increased. Thus we find ourselves with a curriculum where MATH 101 is most central.</p>
<p>The highest crucialities once again are MATH 100 with 22 and MATH 101 with 18. These courses are also the highest blocking factors at 17 and 13 respectively. This further confirms that in a MATH stream failing to succeed in these introductory calculus courses will have long lasting effects. S The highest delay factor is 5 and there are many courses with this delay factor as it is a common path length. These courses are MATH 100, MATH 101, MATH 200, STAT 230, COSC 221, DATA 311, STAT 303, STAT 403, MATH 409, DATA 407, DATA 315, MATH 319, MATH 225.</p>
<p>A full list of nodes and their metrics is printed below.</p>
<div class="cell" data-hash="index_cache/html/Print Min Graph Metrics - Math_1c3ce109efab1ec9fd11ccc33cfa2e66">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(min_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">CHEM 111</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">ENGL 109</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">PHYS 111</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">PHYS 121</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">COSC 121</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 221</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">COSC 222</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">MATH 220</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">COSC 304</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">PHIL 331</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">STAT 400</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">STAT 403</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">MATH 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">MATH 307</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">MATH 409</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">DATA 407</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">27</td>
<td style="text-align: left;">DATA 315</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">28</td>
<td style="text-align: left;">MATH 319</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">MATH 225</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The difference in elective courses that caused the total metric scores to be so different are given below.</p>
<p>The courses in the max graph that are not found in the min graph are:</p>
<div class="cell" data-hash="index_cache/html/Print Max Unique Courses - Math_91cf585f6bfc6174409f9e1142673f28">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="sc">!</span>(max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="sc">%in%</span> min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">Courses=</span>max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label[idx]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Courses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ENGL 114</td>
</tr>
<tr class="even">
<td style="text-align: left;">ENGL 156</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PHYS 112</td>
</tr>
<tr class="even">
<td style="text-align: left;">PHYS 122</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STAT 401</td>
</tr>
<tr class="even">
<td style="text-align: left;">DATA 410</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DATA 310</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The courses in the min graph that are not found in the max graph are:</p>
<div class="cell" data-hash="index_cache/html/Print Min Unique Courses - Math_dc981fb71818887863d3016fdedfdbc2">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="sc">!</span>(min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label <span class="sc">%in%</span> max_graph<span class="sc">$</span>node_list<span class="sc">$</span>label)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">Courses=</span>min_graph<span class="sc">$</span>node_list<span class="sc">$</span>label[idx]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">Courses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ENGL 109</td>
</tr>
<tr class="even">
<td style="text-align: left;">PHYS 111</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PHYS 121</td>
</tr>
<tr class="even">
<td style="text-align: left;">STAT 400</td>
</tr>
<tr class="odd">
<td style="text-align: left;">STAT 403</td>
</tr>
<tr class="even">
<td style="text-align: left;">DATA 407</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="simulation" class="level2">
<h2 class="anchored" data-anchor-id="simulation">Simulation</h2>
<p>Recently the highly central course Stat 230 has been split into 2 courses. We therefore wish to see how the structural complexity is affected by this change. We will then use the Curricular Analysis Simulation Library (CASL) to simulate students moving through the old and new curriculum. This will help use gauge the effects of out changes.</p>
</section>
<section id="curriculum" class="level2">
<h2 class="anchored" data-anchor-id="curriculum">2023-2024 Curriculum</h2>
<p>There has been another large revamp in DS curriculum. STAT 230 has been split into two courses, more math courses have become required, and many prerequisites have been changed. We conduct an analysis of the maximally and minimally structurally complex new curricula.</p>
<section id="maximum-structural-complexity-3" class="level3">
<h3 class="anchored" data-anchor-id="maximum-structural-complexity-3">Maximum Structural Complexity</h3>
<div class="cell" data-hash="index_cache/html/Generate Max Node Coords - New Major_baee6f439c9bc9873cb391479c97c8c9">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>,</span>
<span id="cb102-27"><a href="#cb102-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">4</span>, <span class="co">#</span></span>
<span id="cb102-28"><a href="#cb102-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb102-29"><a href="#cb102-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb102-30"><a href="#cb102-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>,</span>
<span id="cb102-31"><a href="#cb102-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span>,</span>
<span id="cb102-32"><a href="#cb102-32" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">4</span>,</span>
<span id="cb102-33"><a href="#cb102-33" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">5</span></span>
<span id="cb102-34"><a href="#cb102-34" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Max Graph - New Major_425ba23828c63610b991a1ada4839470">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load("..\\data\\rdata\\maxGraphNewCur.RData")</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="co"># visNetwork(</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   max_graph$node_list,</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   max_graph$edge_list,</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   submain = paste(</span></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Total Structural Complexity:",</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     max_graph$sc_total,</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Total Blocking Factor:",</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     max_graph$bf_total,</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Total Delay Factor:",</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     max_graph$df_total</span></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ) %&gt;%</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   visEdges(arrows = "to") %&gt;%</span></span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   visIgraphLayout(layout = "layout.norm", layoutMatrix = coords) %&gt;%</span></span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   visEvents(</span></span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a><span class="co">#     selectNode = "function(properties) {</span></span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="co">#       alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb103-20"><a href="#cb103-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Our total strucutral complexity 159, total blocking factor is 57, and total delay factor is 102. In terms of overal strucutral complexity and blockign factor we see a huge decrease from the previous year’s DS program. The previous structural complexity for the max graph was 194 and the blocking factor was 80. In terms od delay factor we see a fairly small decrease going from 114 in the old graph to 102 in this graph. This suggests that overall we’ve reduced the density of edges between nodes but many long paths throughout the curriculum still exist.</p>
<p>The big changes in this graph are STAT 230 being split into STAT 203 and 205, DATA 410 going from 3 prerequisites to just 1, and the addition of several new second year math courses.</p>
<p>The most central courses are MATH 200 at 32, MATH 101 with 31 and STAT 303 at 30. Previously STAT 230 held the highest centrality at 138. It seems much of the edge density has been distributed among these 3 courses after the deletion of STAT 230.</p>
<p>The courses with the highest blocking factors are MATH 100 with 15, MATH 101 at 8. STAT 205 has 6 and STAT 203 has 3.</p>
<p>The courses with the highest delay factor are MATH 100, MATH 101, MATH 200, STAT 303, STAT 403 with a delay factor of 5.</p>
<p>The highest cruciality courses are MATH 100 at 20 and MATH 101 at 13. This a good step down from their previous scores of 23 and 20 respectively.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-1_ebfab4d03e4ea39b7fe84f5173e13d48">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(max_graph<span class="sc">$</span>node_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">id</th>
<th style="text-align: left;">label</th>
<th style="text-align: right;">sc</th>
<th style="text-align: right;">cf</th>
<th style="text-align: right;">bf</th>
<th style="text-align: right;">df</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">DATA 101</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">CHEM 111</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">MATH 100</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">MATH 101</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">ENGL 113</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">ENGL 114</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">PHYS 111</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">PHYS 122</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">COSC 111</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;">COSC 121</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;">MATH 200</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;">MATH 221</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13</td>
<td style="text-align: left;">STAT 230</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">14</td>
<td style="text-align: left;">COSC 221</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15</td>
<td style="text-align: left;">COSC 222</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">16</td>
<td style="text-align: left;">DATA 301</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">17</td>
<td style="text-align: left;">DATA 311</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">18</td>
<td style="text-align: left;">COSC 304</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">19</td>
<td style="text-align: left;">STAT 303</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">20</td>
<td style="text-align: left;">PHIL 331</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">21</td>
<td style="text-align: left;">STAT 401</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">22</td>
<td style="text-align: left;">STAT 403</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">23</td>
<td style="text-align: left;">STAT 406</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">24</td>
<td style="text-align: left;">COSC 303</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">COSC 344</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">26</td>
<td style="text-align: left;">DATA 405</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">27</td>
<td style="text-align: left;">DATA 407</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">28</td>
<td style="text-align: left;">DATA 410</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">29</td>
<td style="text-align: left;">DATA 310</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="minimum-structural-complexity-3" class="level3">
<h3 class="anchored" data-anchor-id="minimum-structural-complexity-3">Minimum Structural Complexity</h3>
<div class="cell" data-hash="index_cache/html/Generate Min Node Coords - New Major_834b65df0b9f8dd7580b28b70d717b75">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify node locations</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T, <span class="at">data =</span> <span class="fu">c</span>(</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>,</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">3</span>,</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">4</span>, </span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">0</span>,</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">2</span>,</span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">3</span>,</span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="dv">4</span>, </span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,</span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">1</span>,</span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">2</span>,</span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">3</span>,</span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">4</span>, </span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">0</span>,</span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">1</span>,</span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">2</span>,</span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">3</span>,</span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>, <span class="dv">4</span>, </span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">0</span>,</span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,</span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">2</span>,</span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">3</span>, </span>
<span id="cb105-27"><a href="#cb105-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">0</span>,</span>
<span id="cb105-28"><a href="#cb105-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">1</span>,</span>
<span id="cb105-29"><a href="#cb105-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">2</span>,</span>
<span id="cb105-30"><a href="#cb105-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">3</span>,</span>
<span id="cb105-31"><a href="#cb105-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>, <span class="dv">4</span></span>
<span id="cb105-32"><a href="#cb105-32" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/Visualize Min Graph - New Major_814789ba4756a1fb82265038ccc085d6">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load("../data/rdata/minGraph.RData")</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="co"># visNetwork(</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   min_graph$node_list,</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   min_graph$edge_list,</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   submain = paste(</span></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Total Structural Complexity:",</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     min_graph$sc_total,</span></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Total Blocking Factor:",</span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     min_graph$bf_total,</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     "Total Delay Factor:",</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     min_graph$df_total</span></span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ) %&gt;%</span></span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   visEdges(arrows = "to") %&gt;%</span></span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   visIgraphLayout(layout = "layout.norm", layoutMatrix = coords) %&gt;%</span></span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   visEvents(</span></span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a><span class="co">#     selectNode = "function(properties) {</span></span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a><span class="co">#       alert(' sc: ' + this.body.data.nodes.get(properties.nodes[0]).sc + ' cf: ' + this.body.data.nodes.get(properties.nodes[0]).cf + ' bf: ' + this.body.data.nodes.get(properties.nodes[0]).bf + ' df: ' + this.body.data.nodes.get(properties.nodes[0]).df);}"</span></span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-daly2007methods" class="csl-entry" role="doc-biblioentry">
Daly, Rónán, and Qiang Shen. 2007. <span>“Methods to Accelerate the Learning of Bayesian Network Structures.”</span> In <em>Proceedings of the 2007 UK Workshop on Computational Intelligence</em>. Citeseer.
</div>
<div id="ref-heileman2018curricular" class="csl-entry" role="doc-biblioentry">
Heileman, Gregory L, Chaouki T Abdallah, Ahmad Slim, and Michael Hickman. 2018. <span>“Curricular Analytics: A Framework for Quantifying the Impact of Curricular Reforms and Pedagogical Innovations.”</span> <em>arXiv Preprint arXiv:1811.09676</em>.
</div>
<div id="ref-nagarajan2013bayesian" class="csl-entry" role="doc-biblioentry">
Nagarajan, Radhakrishnan, Marco Scutari, and Sophie Lèbre. 2013. <span>“Bayesian Networks in r.”</span> <em>Springer</em> 122: 125–27.
</div>
<div id="ref-scutari2009learning" class="csl-entry" role="doc-biblioentry">
Scutari, Marco. 2009. <span>“Learning Bayesian Networks with the Bnlearn r Package.”</span> <em>arXiv Preprint arXiv:0908.3817</em>.
</div>
<div id="ref-slim2016curricular" class="csl-entry" role="doc-biblioentry">
Slim, Ahmad. 2016. <span>“Curricular Analytics in Higher Education.”</span> PhD thesis, The University of New Mexico.
</div>
<div id="ref-slim2021restructuring" class="csl-entry" role="doc-biblioentry">
Slim, Ahmad, Gregory L Heileman, Chaouki T Abdallah, Ameer Slim, and Najem N Sirhan. 2021. <span>“Restructuring Curricular Patterns Using Bayesian Networks.”</span> In <em>EDM</em>.
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>